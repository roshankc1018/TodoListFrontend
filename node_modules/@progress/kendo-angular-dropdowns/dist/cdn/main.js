/**-----------------------------------------------------------------------------------------
* Copyright Â© 2021 Progress Software Corporation. All rights reserved.
* Licensed under commercial license. See LICENSE.md in the project root for more information
*-------------------------------------------------------------------------------------------*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("tslib"),require("@angular/core"),require("@progress/kendo-angular-common"),require("@progress/kendo-angular-l10n"),require("@progress/kendo-angular-popup"),require("@progress/kendo-angular-treeview"),require("@angular/forms"),require("rxjs"),require("rxjs/operators"),require("@progress/kendo-common"),require("@progress/kendo-licensing"),require("@angular/common")):"function"==typeof define&&define.amd?define(["tslib","@angular/core","@progress/kendo-angular-common","@progress/kendo-angular-l10n","@progress/kendo-angular-popup","@progress/kendo-angular-treeview","@angular/forms","rxjs","rxjs/operators","@progress/kendo-common","@progress/kendo-licensing","@angular/common"],t):"object"==typeof exports?exports.KendoAngularDropdowns=t(require("tslib"),require("@angular/core"),require("@progress/kendo-angular-common"),require("@progress/kendo-angular-l10n"),require("@progress/kendo-angular-popup"),require("@progress/kendo-angular-treeview"),require("@angular/forms"),require("rxjs"),require("rxjs/operators"),require("@progress/kendo-common"),require("@progress/kendo-licensing"),require("@angular/common")):e.KendoAngularDropdowns=t(e.tslib,e["@angular/core"],e["@progress/kendo-angular-common"],e["@progress/kendo-angular-l10n"],e["@progress/kendo-angular-popup"],e["@progress/kendo-angular-treeview"],e["@angular/forms"],e.rxjs,e["rxjs/operators"],e["@progress/kendo-common"],e["@progress/kendo-licensing"],e["@angular/common"])}(window,(function(e,t,i,n,o,a,r,s,p,l,d,u){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=65)}([function(t,i){t.exports=e},function(e,i){e.exports=t},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(3),o=i(28);t.isPresent=function(e){return null!=e},t.isNumber=function(e){return!isNaN(e)},t.guid=function(){var e,t,i="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(i+="-"),i+=(12===e?4:16===e?3&t|8:t).toString(16);return i},t.combineStr=function(e,t){return e.concat(t.substr(t.toLowerCase().indexOf(e.toLowerCase())+e.length))},t.isWindowAvailable=function(){return"undefined"!=typeof window},t.isArray=function(e){return Array.isArray(e)},t.isObject=function(e){return t.isPresent(e)&&"object"==typeof e},t.isEmptyString=function(e){return"string"==typeof e&&0===e.length},t.resolveValuesInArray=function(e,i,n){return void 0===i&&(i=[]),e.map((function(e){return i.find((function(i){return t.getter(i,n)===e}))})).filter((function(e){return void 0!==e}))},t.validateComplexValues=function(e,i){return t.isArray(e)&&e.filter((function(e){return t.isObject(e)&&t.isPresent(t.getter(e,i))}))},t.resolveAllValues=function(e,i,n){var o=t.validateComplexValues(e,n)||[];return(t.resolveValuesInArray(e,i,n)||[]).concat(o)},t.isObjectArray=function(e){return t.isArray(e)&&e.every((function(e){return t.isObject(e)}))},t.selectedIndices=function(e,i,n){var o=i.map((function(e){return t.isPresent(e)&&t.isPresent(t.getter(e,n))?t.getter(e,n):e}));return e.reduce((function(e,i){var a=t.isPresent(i)&&t.isPresent(t.getter(i,n))?t.getter(i,n):i,r=o.indexOf(a);return-1!==r&&e.push(r),e}),[])},t.getter=function(e,i){return t.isPresent(e)?t.isPresent(i)&&t.isObject(e)?o.getter(i)(e):e:null},t.resolveValue=function(e){var i;return t.isPresent(e.value)?{dataItem:i=[e.defaultItem].concat(e.data).find((function(i){return t.getter(i,e.valueField)===e.value})),focused:e.data.indexOf(i),selected:e.data.indexOf(i)}:e.index?(i=e.data[e.index],{dataItem:e.data[e.index],focused:e.index,selected:e.index}):{dataItem:e.defaultItem,focused:-1,selected:-1}},t.sameCharsOnly=function(e,t){for(var i=0;i<e.length;i++)if(e.charAt(i)!==t)return!1;return!0},t.shuffleData=function(e,t,i){var n=e;return i&&(n=[i].concat(n)),n.slice(t).concat(n.slice(0,t))},t.matchText=function(e,i,n){if(!t.isPresent(e))return!1;var o=String(e);return n&&(o=o.toLowerCase()),0===o.indexOf(i)},t.elementFromPoint=function(e,t){if(n.isDocumentAvailable())return document.elementFromPoint(e,t)},t.hasProps=function(e,i){return!!t.isPresent(e)&&i.every((function(t){return e.hasOwnProperty(t)}))},t.isUntouched=function(e){return e.className.includes("ng-untouched")},t.noop=function(e){};var a=function(e,t){var i=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return!!i&&i.call(e,t)};t.closest=function(e,t){for(var i=e;null!==i&&1===i.nodeType;){if(a(i,t))return i;i=i.parentElement||i.parentNode}return null},t.parseNumber=function(e,t){void 0===t&&(t=0);var i=Number(e);return isNaN(i)?t:i},t.inDropDown=function(e,t,i){return e.nativeElement.contains(t)||i&&i.popupElement.contains(t)},t.getHierarchicalItemLevel=function(e){return(e||"").split("_").length-1},t.fetchDescendentNodes=function(e,i){if(!t.isPresent(e)||0===e.children.length)return[];var n=e.children;return t.isPresent(i)&&(n=n.filter((function(e){return i(e.item)}))),n.forEach((function(e){return n=n.concat(t.fetchDescendentNodes(e,i))})),n},t.valueFrom=function(e,i){var n=e.dataItem,a=e.index,r=e.level,s=Array.isArray(i)?i:[i],p=t.isPresent(r)?r:t.getHierarchicalItemLevel(a),l=s[Math.min(p,s.length-1)];return o.getter(l)(n)}},function(e,t){e.exports=i},function(e,t){e.exports=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(2),r=function(){function e(){this.onSelect=new o.EventEmitter,this.onChange=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.total=0,this.selectedIndices=[]}return e.prototype.getTotal=function(){return this.total},e.prototype.isSelected=function(e){return a.isPresent(this.selectedIndices.find((function(t){return t===e})))},e.prototype.isFocused=function(e){return e===this.focused},e.prototype.focus=function(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))},e.prototype.select=function(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:a.isPresent(e)}))},e.prototype.add=function(e){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice()}))},e.prototype.unselect=function(e){if(this.isSelected(e)){var t=this.selectedIndices.indexOf(e);this.selectedIndices.splice(t,1),this.focused=e,this.onChange.emit({indices:this.selectedIndices.slice(),removed:e})}},e.prototype.change=function(e){var t=a.isPresent(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})},e.prototype.resetSelection=function(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]},Object.defineProperty(e.prototype,"selected",{get:function(){return this.selectedIndices.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focused",{get:function(){return this.focusedIndex},set:function(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))},enumerable:!0,configurable:!0}),e=n.__decorate([o.Injectable()],e)}();t.SelectionService=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(2),r=i(7),s=function(){function e(e){this.dataService=e,this.itemDisabled=null}return e.prototype.isIndexDisabled=function(e){if(this.itemDisabled){var t=this.dataService.itemAt(e);if(a.isPresent(t))return this.itemDisabled({dataItem:t,index:e});if(a.isPresent(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}},e.prototype.isItemDisabled=function(e){if(this.itemDisabled){var t=this.dataService.indexOf(e);if(-1!==t)return this.itemDisabled({dataItem:e,index:t});if(a.isPresent(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}},e=n.__decorate([o.Injectable(),n.__metadata("design:paramtypes",[r.DataService])],e)}();t.DisabledItemsService=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(2),r=function(){function e(){this.grouped=!1,this.groupIndices=[]}return Object.defineProperty(e.prototype,"data",{get:function(){return this.grouped?this._flatData:this._data},set:function(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsCount",{get:function(){return a.isPresent(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter((function(e){return!e.header})):this.data).length:0},enumerable:!0,configurable:!0}),e.prototype.isGrouped=function(e){return a.isPresent(e)&&0!==e.length&&a.isPresent(e[0])&&a.hasProps(e[0],["aggregates","field","items","value"])},e.prototype.getGroupIndices=function(e){for(var t=[],i=0;i<=e.length-1;i++)t[i]=(t[i-1]||0)+e[i].items.length;return t},e.prototype.filter=function(e){var t=[];if(this.isGrouped(this.data))for(var i=0;i<=this.groupIndices.length-1;i++){var n=this.data[i].items.filter(e);n&&(t=t.concat(n))}else t=this.data.filter(e);return t},e.prototype.indexOf=function(e,t){void 0===t&&(t=0);var i=function(t){return t===e};return this.grouped&&(i=function(t){return t.value===e}),this.findIndex(i,t)},e.prototype.findIndex=function(e,t){void 0===t&&(t=0);var i=-1;if(this.grouped){i=(n=this._flatData.filter((function(e){return!e.header&&e.offsetIndex>=t}))).findIndex(e),i=n[i]?n[i].offsetIndex:-1}else{var n,o=(n=this.data.slice(t)).findIndex(e);i=-1!==o?o+t:-1}return i},e.prototype.closestGroup=function(e){for(var t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]},e.prototype.find=function(e){var t=this.findIndex(e);return this.itemAt(t)},e.prototype.flatIndex=function(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;var t=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));return t?t.index:-1},e.prototype.itemAt=function(e){var t;if(0===this.itemsCount)return t;if(this.grouped){var i=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));i&&(t=i.value)}else t=this.data[e];return t},e.prototype.groupAt=function(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find((function(t){return t.header&&t.index===e}))},e.prototype.groupField=function(){return 0!==this.itemsCount&&this.isGrouped?this._data[0].field:null},e.prototype.itemGroup=function(e){if(e&&0!==this.itemsCount&&this.isGrouped){var t=this.groupField();return t?a.getter(e,t):void 0}},e.prototype.flatten=function(e,t,i,n){void 0===t&&(t=void 0),void 0===i&&(i=0),void 0===n&&(n=0);var o=[];a.isPresent(t)&&o.push({header:!0,index:n+i,offsetIndex:n,value:t});for(var r=0;r<e.length;r++){var s=[];e[r].items?(s=this.flatten(e[r].items,e[r].value,i,r),i+=e[r].items.length):s.push({header:!1,index:n+i+r+1,offsetIndex:i+r,value:e[r]}),o=o.concat(s)}return o},e=n.__decorate([o.Injectable()],e)}();t.DataService=r},function(e,t){e.exports=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1);t.TOUCH_ENABLED=new n.InjectionToken("dropdowns-touch-enabled")},function(e,t){e.exports=a},function(e,t){e.exports=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoDropDownListHeaderTemplate],[kendoComboBoxHeaderTemplate],[kendoDropDownTreeHeaderTemplate],[kendoMultiColumnComboBoxHeaderTemplate],[kendoAutoCompleteHeaderTemplate],[kendoMultiSelectHeaderTemplate],[kendoMultiSelectTreeHeaderTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.HeaderTemplateDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoDropDownListFooterTemplate],[kendoComboBoxFooterTemplate],[kendoDropDownTreeFooterTemplate],[kendoMultiColumnComboBoxFooterTemplate],[kendoAutoCompleteFooterTemplate],[kendoMultiSelectFooterTemplate],[kendoMultiSelectTreeFooterTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.FooterTemplateDirective=a},function(e,t){e.exports=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.prevented=!1}return e.prototype.preventDefault=function(){this.prevented=!0},e.prototype.isDefaultPrevented=function(){return this.prevented},e}();t.PreventableEvent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoDropDownListItemTemplate],[kendoComboBoxItemTemplate],[kendoAutoCompleteItemTemplate],[kendoMultiSelectItemTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.ItemTemplateDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoDropDownListGroupTemplate],[kendoComboBoxGroupTemplate],[kendoMultiColumnComboBoxGroupTemplate],[kendoAutoCompleteGroupTemplate],[kendoMultiSelectGroupTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.GroupTemplateDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoDropDownListFixedGroupTemplate],[kendoComboBoxFixedGroupTemplate],[kendoMultiColumnComboBoxFixedGroupTemplate],[kendoAutoCompleteFixedGroupTemplate],[kendoMultiSelectFixedGroupTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.FixedGroupTemplateDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(2),r=i(3),s=i(23),p=i(6),l=i(5),d=function(e,t){this.index=e,this.originalEvent=t};t.NavigationEvent=d;var u=function(){function e(e,t){this.disabledItemsService=e,this.selectionService=t,this.open=new o.EventEmitter,this.close=new o.EventEmitter,this.enter=new o.EventEmitter,this.tab=new o.EventEmitter,this.esc=new o.EventEmitter,this.up=new o.EventEmitter,this.right=new o.EventEmitter,this.down=new o.EventEmitter,this.left=new o.EventEmitter,this.delete=new o.EventEmitter,this.backspace=new o.EventEmitter,this.home=new o.EventEmitter,this.end=new o.EventEmitter}return e.prototype.process=function(e){var t,i=e.originalEvent.keyCode,n=e.originalEvent.altKey,o=s.NavigationAction.Undefined;n&&i===r.Keys.ArrowDown?o=s.NavigationAction.Open:n&&i===r.Keys.ArrowUp?o=s.NavigationAction.Close:i===r.Keys.Enter?o=s.NavigationAction.Enter:i===r.Keys.Escape?o=s.NavigationAction.Esc:i===r.Keys.Tab?o=s.NavigationAction.Tab:i===r.Keys.ArrowUp?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),o=s.NavigationAction.Up):i===r.Keys.ArrowLeft?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),o=s.NavigationAction.Left):i===r.Keys.ArrowDown?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),o=s.NavigationAction.Down):i===r.Keys.ArrowRight?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),o=s.NavigationAction.Right):i===r.Keys.Home?(t=this.isDisabled(0)?e.current:0,o=s.NavigationAction.Home):i===r.Keys.End?(t=this.isDisabled(e.max)?e.current:e.max,o=s.NavigationAction.End):i===r.Keys.Delete?o=s.NavigationAction.Delete:i===r.Keys.Backspace&&(o=s.NavigationAction.Backspace);var a=new d(t,e.originalEvent);return o!==s.NavigationAction.Undefined&&this[s.NavigationAction[o].toLowerCase()].emit(a),o},e.prototype.next=function(e){var t=e.current,i=e.start,n=e.end,o=e.step,r=a.isPresent(t)?this.clampIndex(t+o,i,n):i,s=this.firstFocusableIndex(r,i,n,o);if(a.isPresent(s))return s;if(this.selectionService.isSelected(t)&&t>=i)return t;var p=-1*o;return this.firstFocusableIndex(r,i,n,p)},e.prototype.clampIndex=function(e,t,i){return!a.isPresent(e)||e<t?t:e>i?i:e},e.prototype.firstFocusableIndex=function(e,t,i,n){for(;t<=e&&e<=i;){if(!this.isDisabled(e))return e;e+=n}},e.prototype.isDisabled=function(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)},e=n.__decorate([o.Injectable(),n.__metadata("design:paramtypes",[p.DisabledItemsService,l.SelectionService])],e)}();t.NavigationService=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoDropDownListNoDataTemplate],[kendoDropDownTreeNoDataTemplate],[kendoComboBoxNoDataTemplate],[kendoMultiColumnComboBoxNoDataTemplate],[kendoAutoCompleteNoDataTemplate],[kendoMultiSelectNoDataTemplate],[kendoMultiSelectTreeNoDataTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.NoDataTemplateDirective=a},function(e,t){e.exports=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(16),r=i(17),s=i(18),p=i(12),l=i(13),d=i(20),u=i(34),c=i(35),h=i(29),m=i(70),v=i(71),g=i(57),f=i(72),_=[p.HeaderTemplateDirective,l.FooterTemplateDirective,a.ItemTemplateDirective,r.GroupTemplateDirective,s.FixedGroupTemplateDirective,d.NoDataTemplateDirective,u.ValueTemplateDirective,c.TagTemplateDirective,h.GroupTagTemplateDirective,m.LocalizedMessagesDirective,v.CustomMessagesComponent,g.FilterDirective,f.FilterInputDirective],b=function(){function e(){}return e=n.__decorate([o.NgModule({declarations:[_],exports:[_]})],e)}();t.SharedDirectivesModule=b},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Undefined=0]="Undefined",e[e.Open=1]="Open",e[e.Close=2]="Close",e[e.Enter=3]="Enter",e[e.Tab=4]="Tab",e[e.Esc=5]="Esc",e[e.Delete=6]="Delete",e[e.Backspace=7]="Backspace",e[e.Home=8]="Home",e[e.End=9]="End",e[e.Up=10]="Up",e[e.Down=11]="Down",e[e.Left=12]="Left",e[e.Right=13]="Right"}(t.NavigationAction||(t.NavigationAction={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){};t.FilterableComponent=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(3),r=i(46),s=i(16),p=i(17),l=i(18),d=i(2),u=i(5),c=i(14),h=i(21),m=i(6),v=i(7),g=function(){function e(e,t,i,n,a,r,s){var p=this;this.dataService=e,this.wrapper=t,this.selectionService=i,this.disabledItemsService=n,this.cdr=a,this.zone=r,this.renderer=s,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.listClass="k-list k-reset",this.checkboxes={enabled:!1},this.onClick=new o.EventEmitter,this.pageChange=new o.EventEmitter,this.listResize=new o.EventEmitter,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=c.merge(this.selectionService.onSelect.pipe(h.map((function(e){return e.indices[0]}))),this.selectionService.onFocus).pipe(h.switchMap((function(e){return p.zone.onStable.pipe(h.take(1),h.map((function(){return e})))}))).subscribe(this.scrollToItem.bind(this))}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e[0]&&e[0].header?e.slice(0):e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overflowY",{get:function(){if(d.isPresent(this.virtual))return this.hasVirtualScrollbar()?"scroll":"hidden"},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){a.isChanged("data",e,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange())},e.prototype.ngAfterViewInit=function(){var e=this;this.zone.runOutsideAngular((function(){e.scrollSubscription=c.fromEvent(e.content.nativeElement,"scroll").pipe(h.auditTime(100),h.tap(e.prefetchData.bind(e)),h.tap(e.findCurrentGroup.bind(e))).subscribe((function(){e.lastScrollTop=e.content.nativeElement.scrollTop}))}))},e.prototype.ngAfterViewChecked=function(){if(this.virtual&&this.positionItems(),this.items&&this.scrollToFocused){this.scrollToFocused=!1;var e=this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused;this.scrollToItem(e)}this.dataService.grouped&&this.findCurrentGroup()},e.prototype.ngOnDestroy=function(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()},e.prototype.onCheckedChange=function(e,t){var i=e.target.checked;i&&!this.selectionService.isSelected(t)&&this.selectionService.add(t),!i&&this.selectionService.isSelected(t)&&this.selectionService.unselect(t)},e.prototype.isChecked=function(e){var t=this.virtual?e+this.virtual.skip:e;return this.selectionService.isSelected(t)},e.prototype.firstVisibleItem=function(){var e=this,t=this.content.nativeElement,i=t.getBoundingClientRect(),n=Array.prototype.slice.call(t.querySelectorAll(".k-state-disabled"));n.forEach((function(t){return e.renderer.setStyle(t,"pointer-events","auto")}));var o=document.elementFromPoint(i.left+1,i.top+1);return n.forEach((function(t){return e.renderer.setStyle(t,"pointer-events","none")})),d.closest(o,"li")},e.prototype.findCurrentGroup=function(){if(this.dataService.grouped){var e=this.firstVisibleItem();if(e){var t=void 0;"group"===e.getAttribute("role")?(t=parseInt(e.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(t).value):(t=parseInt(e.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(t)))}else this.currentGroup=void 0;this.cdr.detectChanges()}else this.currentGroup=void 0},e.prototype.prefetchData=function(){if(this.virtual){var e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,i=Math.trunc(t/this.virtual.itemHeight),n=t>this.lastScrollTop,o=i+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1,a=this.pageSize-(this.lastLoaded-this.startFrom),r=this.lastLoaded-this.pageSize+e>=i-a;n&&o&&this.changePage(i),!n&&r&&this.changePage(i-this.pageSize+e+1)}},e.prototype.changePage=function(e){var t=this;this.zone.run((function(){var i=t.pageSize+e;i>t.virtual.total&&(e--,i=t.virtual.total),e<0&&(e=0),t.startFrom=e,t.lastLoaded=i,t.pageChange.emit({skip:e,take:t.pageSize})}))},e.prototype.index=function(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t},e.prototype.getText=function(e){return d.getter(e,this.textField)},e.prototype.getValue=function(e){return d.getter(e,this.valueField)},e.prototype.isDisabled=function(e){return d.isPresent(this.virtual)&&(e+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(e)},e.prototype.scrollToItem=function(e){var t=e;this.dataService.grouped&&(t=this.dataService.flatIndex(e),t+=this.firstGroupHeaderInTargetedPage(t)?-1:0);if(this.virtual&&t>-1)this.scrollToIndex(t);else{var i=this.items.toArray();d.isPresent(i[t])&&-1!==t&&this.scroll(i[t].element)}},e.prototype.scrollToIndex=function(e){var t=this.content.nativeElement,i=t.scrollTop,n=e*this.virtual.itemHeight,o=this.virtual.itemHeight,a=t.clientHeight,r=n+o;i>n?i=n:r>i+a&&(i=r-a),t.scrollTop=i},e.prototype.scroll=function(e){if(e){var t=e.nativeElement,i=this.content.nativeElement,n=t.offsetTop,o=t.offsetHeight,a=i.scrollTop,r=i.clientHeight,s=n+o;a>n?a=n:s>a+r&&(a=s-r),i.scrollTop=a}},e.prototype.hasScrollbar=function(){return!!(d.isPresent(this.items)&&this.items.length&&d.isPresent(this.list)&&d.isPresent(this.content))&&(d.isPresent(this.virtual)&&this.hasVirtualScrollbar()||this.list.nativeElement.scrollHeight>this.content.nativeElement.offsetHeight)},e.prototype.hasVirtualScrollbar=function(){var e=this.content.nativeElement.offsetHeight,t=this.virtualContainer&&this.virtualContainer.nativeElement.offsetHeight;return this.virtualContainer&&t>e},e.prototype.positionItems=function(){var e=this;this.items.forEach((function(t,i){var n=(i+e.startFrom)*e.virtual.itemHeight;e.renderer.setStyle(t.element.nativeElement,"transform","translateY("+n+"px")}))},e.prototype.firstGroupHeaderInTargetedPage=function(e){return!d.isPresent(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e},n.__decorate([o.Input(),n.__metadata("design:type",Array)],e.prototype,"selected",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"focused",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"textField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"valueField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"height",void 0),n.__decorate([o.Input(),n.__metadata("design:type",s.ItemTemplateDirective)],e.prototype,"template",void 0),n.__decorate([o.Input(),n.__metadata("design:type",p.GroupTemplateDirective)],e.prototype,"groupTemplate",void 0),n.__decorate([o.Input(),n.__metadata("design:type",l.FixedGroupTemplateDirective)],e.prototype,"fixedGroupTemplate",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"show",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"id",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"optionPrefix",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"multipleSelection",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"virtual",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"listClass",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"checkboxes",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"data",null),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onClick",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"pageChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"listResize",void 0),n.__decorate([o.ViewChildren(r.ListItemDirective),n.__metadata("design:type",o.QueryList)],e.prototype,"items",void 0),n.__decorate([o.ViewChild("content",{static:!0}),n.__metadata("design:type",o.ElementRef)],e.prototype,"content",void 0),n.__decorate([o.ViewChild("list",{static:!0}),n.__metadata("design:type",o.ElementRef)],e.prototype,"list",void 0),n.__decorate([o.ViewChild("virtualContainer",{static:!1}),n.__metadata("design:type",o.ElementRef)],e.prototype,"virtualContainer",void 0),e=n.__decorate([o.Component({selector:"kendo-list",template:'\n    <div *ngIf="dataService.grouped"\n        class=\'k-outer-group-header k-first\'\n        [ngClass]="{\'k-virtual-item\': virtual}"\n        [ngStyle]="{\n            \'height.px\': virtual?.itemHeight,\n            \'minHeight.px\' : virtual?.itemHeight,\n            \'boxSizing\' : virtual ? \'border-box\' : \'inherit\'}"\n        >\n        <ng-template *ngIf="fixedGroupTemplate"\n            [templateContext]="{\n                templateRef: fixedGroupTemplate.templateRef,\n                $implicit: currentGroup\n            }">\n        </ng-template>\n        <ng-template [ngIf]="!fixedGroupTemplate"><strong>{{ currentGroup }}</strong> </ng-template>\n    </div>\n    <div #content\n         [ngClass]="{ \'k-virtual-content\': virtual, \'k-list-scroller\': !virtual }"\n         [style.maxHeight.px]="height"\n         [style.overflowY]="overflowY"\n         unselectable="on">\n    <ul #list\n        role="listbox"\n        [class]="listClass"\n        [ngClass]="{ \'k-virtual-list\': virtual }"\n        [attr.id]="id"\n        [attr.aria-hidden]="!show">\n         <ng-template *ngIf="!dataService.grouped && show" ngFor let-dataItem let-itemIndex="index" [ngForOf]="data">\n            <li\n                role="option"\n                kendoDropDownsSelectable\n                [checkboxes]="checkboxes"\n                [height]="virtual?.itemHeight"\n                [index]="itemIndex + startFrom"\n                [multipleSelection]="multipleSelection"\n                [attr.id]="optionPrefix + \'-\' + getValue(dataItem)"\n                [attr.tabIndex]="-1"\n                class="k-item"\n                [ngClass]="{ \'k-virtual-item\': virtual, \'k-state-disabled\': isDisabled(itemIndex) }">\n                <label *ngIf="checkboxes.enabled"\n                    class="k-checkbox-label">\n                    <input type="checkbox"\n                        class="k-checkbox"\n                        (change)="onCheckedChange($event, itemIndex)"\n                        [checked]="isChecked(itemIndex)"\n                    />\n                </label>\n                <ng-template *ngIf="template"\n                    [templateContext]="{\n                        templateRef: template.templateRef,\n                        $implicit: dataItem\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!template">{{ getText(dataItem) }}</ng-template>\n            </li>\n         </ng-template>\n         <ng-template *ngIf="dataService.grouped" ngFor let-dataItem let-itemIndex="index" [ngForOf]="data">\n            <li\n                *ngIf="dataItem.header && dataItem.index > 0"\n                role="group"\n                class=\'k-outer-group-header\'\n                [ngClass]="{ \'k-virtual-item\': virtual }"\n                [ngStyle]="{\n                    \'height.px\': virtual?.itemHeight,\n                    \'minHeight.px\' : virtual?.itemHeight,\n                    \'boxSizing\' : virtual ? \'border-box\' : \'inherit\'}"\n                [attr.group-index]="dataItem.index"\n                [attr.id]="optionPrefix + \'-\' + getValue(dataItem.value)"\n                [attr.tabIndex]="-1">\n                    <ng-template *ngIf="groupTemplate"\n                          [templateContext]="{\n                            templateRef: groupTemplate.templateRef,\n                            $implicit: dataItem.value\n                    }">\n                    </ng-template>\n                    <ng-template [ngIf]="!groupTemplate"><strong> {{ dataItem.value }}</strong> </ng-template>\n              </li>\n              <li\n                *ngIf="!dataItem.header"\n                role="option"\n                kendoDropDownsSelectable\n                [height]="virtual?.itemHeight"\n                [index]="dataItem.offsetIndex"\n                [multipleSelection]="multipleSelection"\n                [attr.absolute-index]="dataItem.index"\n                [attr.id]="optionPrefix + \'-\' + getValue(dataItem.value)"\n                [attr.tabIndex]="-1"\n                class="k-item"\n                [ngClass]="{ \'k-virtual-item\': virtual, \'k-state-disabled\': isDisabled(dataItem.offsetIndex) }">\n                <ng-template *ngIf="template"\n                    [templateContext]="{\n                        templateRef: template.templateRef,\n                        $implicit: dataItem.value\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!template">{{ getText(dataItem.value) }}</ng-template>\n            </li>\n        </ng-template>\n        <kendo-resize-sensor\n            *ngIf="!virtual"\n            (resize)="listResize.emit()"\n        >\n        </kendo-resize-sensor>\n    </ul>\n    <div *ngIf="virtual" #virtualContainer class="k-height-container" role="presentation">\n        <div [style.height.px]="scrollHeight">\n            <kendo-resize-sensor (resize)="listResize.emit()"></kendo-resize-sensor>\n        </div>\n    </div>\n    </div>\n  '}),n.__metadata("design:paramtypes",[v.DataService,o.ElementRef,u.SelectionService,m.DisabledItemsService,o.ChangeDetectorRef,o.NgZone,o.Renderer2])],e)}();t.ListComponent=g},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiselectMessages={array:"Expected values of array type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",object:"Expected values of Object type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",primitive:"Expected values of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",textAndValue:"Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#toc-bind-to-arrays-of-complex-data"},t.MultiSelectTreeMessages={array:"Expected values of array type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/#value-selection",primitive:"Expected values of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding/#toc-primitive-values",object:"Expected values of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding/#toc-object-values",dataItems:"Expected dataItems of type Object[] to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/MultiSelectTreeComponent/#toc-dataitems",dataItemsLength:"Expected dataItems length to match the number of provided values. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/MultiSelectTreeComponent/#toc-dataitems",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding",valueDepth:"Expected valueDepth of type number[] to be set. See https://www.telerik.com/kendo-angular-ui-develop/components/dropdowns/api/MultiSelectTreeComponent/#toc-valuedepth",valueDepthLength:"Expected valueDepth length to match the number of provided values. See https://www.telerik.com/kendo-angular-ui-develop/components/dropdowns/api/MultiSelectTreeComponent/#toc-valuedepth"},t.ComboBoxMessages={object:"Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection",primitive:"Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection",textAndValue:"Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-bind-to-arrays-of-complex-data",noItemHeight:"Expected virtual.itemHeight of type number."},t.MultiColumnComboBoxMessages={data:"Provided data must consist only of objects. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multicolumncombobox/data-binding/",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multicolumncombobox/data-binding/#toc-fields-configuration"},t.DropDownListMessages={defaultItem:"defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem",object:"Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection",primitive:"Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection",textAndValue:"Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data"},t.DropDownTreeMessages={primitive:"Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding/#toc-primitive-values",object:"Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding/#toc-object-values",dataItem:"Expected dataItem of type Object to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownTreeComponent/#toc-dataitem",textAndValue:"Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding",valueDepth:"Expected valueDepth to be set. See https://www.telerik.com/kendo-angular-ui-develop/components/dropdowns/api/DropDownTreeComponent/#toc-valuedepth"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(68),r=i(11),s=i(25),p=i(32),l=i(69),d=i(8),u=i(3),c=i(22),h=i(46),m=i(58),v=i(59),g=i(73),f=[s.ListComponent,h.ListItemDirective,m.SelectableDirective,p.SearchBarComponent,v.TemplateContextDirective,l.TagListComponent,g.CheckDirective],_=function(){function e(){}return e=n.__decorate([o.NgModule({declarations:[f],exports:[f,a.CommonModule,r.FormsModule,d.PopupModule,u.ResizeSensorModule,c.SharedDirectivesModule,u.EventsModule],imports:[a.CommonModule,r.FormsModule,d.PopupModule,u.ResizeSensorModule,c.SharedDirectivesModule,u.EventsModule]})],e)}();t.SharedModule=_},function(e,t){e.exports=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoMultiSelectGroupTagTemplate],[kendoMultiSelectTreeGroupTagTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.GroupTagTemplateDirective=a},function(e,t){e.exports=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.packageMetadata={name:"@progress/kendo-angular-dropdowns",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1631260317,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(3),r=i(3),s=i(2),p=i(4),l=function(){function e(e,t){this.localization=e,this.valueChange=new o.EventEmitter,this.onBlur=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.onClick=new o.EventEmitter,this.onNavigate=new o.EventEmitter,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=e.rtl?"rtl":"ltr",this.renderer=t}return Object.defineProperty(e.prototype,"userInput",{get:function(){return this._userInput},set:function(e){this._userInput=e||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.input.nativeElement.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e||"",this.setInputSize()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var i=t.rtl;return e.direction=i?"rtl":"ltr"}))},e.prototype.ngOnChanges=function(e){var t;if(this.input&&(e.userInput||e.suggestedText)){t=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;var i=this.input.nativeElement.selectionStart,n=t.length===i;this.writeInputValue(this.suggestedText?s.combineStr(this.userInput,this.suggestedText):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):n?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(i,i),this._previousValue=this.userInput}},e.prototype.ngOnDestroy=function(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()},e.prototype.writeInputValue=function(e){a.isDocumentAvailable()&&this.renderer.setProperty(this.input.nativeElement,"value",e)},e.prototype.setInputSelection=function(e,t){if(a.isDocumentAvailable()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch(e){}},e.prototype.handleInput=function(e){var t=e.target.value;t!==this.userInput&&(this._previousValue=t,this.valueChange.emit(t))},e.prototype.handleFocus=function(e){this.onFocus.emit(e)},e.prototype.handleBlur=function(e){this.onBlur.emit(e)},e.prototype.handleKeydown=function(e){var t=e.keyCode;[r.Keys.ArrowUp,r.Keys.ArrowDown,r.Keys.ArrowLeft,r.Keys.ArrowRight,r.Keys.Enter,r.Keys.Escape,r.Keys.Delete,r.Keys.Backspace,r.Keys.Home,r.Keys.End].indexOf(t)>-1&&this.onNavigate.emit(e)},e.prototype.focus=function(){a.isDocumentAvailable()&&this.input.nativeElement.focus()},e.prototype.blur=function(){a.isDocumentAvailable()&&this.input.nativeElement.blur()},e.prototype.setInputSize=function(){var e=function(e){return e?e.length:0},t=this.input.nativeElement,i=e(this.placeholder),n=e(this.value),o=Math.max(i,n,1);this.renderer.setAttribute(t,"size",o.toString())},n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"id",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"listId",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"tagListId",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"activeDescendant",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"noDataLabel",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"readonly",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"tabIndex",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"popupOpen",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"role",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],e.prototype,"userInput",null),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"suggestedText",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"valueChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onBlur",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onFocus",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onClick",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onNavigate",void 0),n.__decorate([o.ViewChild("input",{static:!0}),n.__metadata("design:type",o.ElementRef)],e.prototype,"input",void 0),n.__decorate([o.HostBinding("class.k-searchbar"),n.__metadata("design:type",Boolean)],e.prototype,"searchBarClass",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],e.prototype,"placeholder",null),e=n.__decorate([o.Component({selector:"kendo-searchbar",template:'\n        <input #input\n            autocomplete="off"\n            [id]="id"\n            [disabled]="disabled"\n            [readonly]="readonly"\n            [placeholder]="placeholder"\n            [class]="\'k-input\'"\n            (input)="handleInput($event)"\n            (keydown)="handleKeydown($event)"\n            [kendoEventsOutsideAngular]="{\n                focus: handleFocus,\n                blur: handleBlur\n            }"\n            [scope]="this"\n            [attr.tabIndex]="tabIndex"\n            [attr.dir]="direction"\n            [attr.role]="role"\n            [attr.aria-disabled]="disabled"\n            [attr.aria-readonly]="readonly"\n            aria-haspopup="listbox"\n            [attr.aria-expanded]="popupOpen"\n            [attr.aria-owns]="listId"\n            [attr.aria-describedby]="tagListId"\n            [attr.aria-activedescendant]="activeDescendant"\n            [attr.aria-label]="noDataLabel"\n        />\n   '}),n.__metadata("design:paramtypes",[p.LocalizationService,o.Renderer2])],e)}();t.SearchBarComponent=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o={pageSize:50,itemHeight:28};t.normalizeVirtualizationSettings=function(e,t){var i=Object.assign({},o,t);return!0===e?i:e?n.__assign({pageSize:o.pageSize},e):null}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoDropDownListValueTemplate],[kendoDropDownTreeValueTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.ValueTemplateDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoMultiSelectTagTemplate],[kendoMultiSelectTreeTagTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.TagTemplateDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoDropDownTreeNodeTemplate], [kendoMultiSelectTreeNodeTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.NodeTemplateDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(11),r=i(30),s=i(31),p=i(32),l=i(16),d=i(12),u=i(13),c=i(17),h=i(18),m=i(20),v=i(5),g=i(19),f=i(6),_=i(14),b=i(21),y=i(3),S=i(2),C=i(23),x=i(3),I=i(15),T=i(4),w=i(8),D=i(9),E=i(26),k=i(24),O=i(7),P=i(25),F=i(33),A=i(28);t.COMBOBOX_VALUE_ACCESSOR={multi:!0,provide:a.NG_VALUE_ACCESSOR,useExisting:o.forwardRef((function(){return M}))};var M=function(){function e(e,t,i,n,a,p,l,d,u,c,h){this.localization=e,this.popupService=t,this.selectionService=i,this.navigationService=n,this.disabledItemsService=a,this.dataService=p,this.zone=l,this.cdr=d,this.renderer=u,this.hostElement=c,this.touchEnabled=h,this.selected=[],this.focusableId="k-"+S.guid(),this.allowCustom=!1,this.valueNormalizer=function(e){return e.pipe(b.map((function(e){return e})))},this.placeholder="",this.listHeight=200,this.suggest=!1,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new o.EventEmitter,this.selectionChange=new o.EventEmitter,this.filterChange=new o.EventEmitter,this.open=new o.EventEmitter,this.opened=new o.EventEmitter,this.close=new o.EventEmitter,this.closed=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.onBlur=new o.EventEmitter,this.widgetClasses=!0,this._isFocused=!1,this.listBoxId=S.guid(),this.optionPrefix=S.guid(),this.onChangeCallback=function(e){},this.onTouchedCallback=function(e){},this.defaultVirtualItemHeight=28,this.defaultVirtualPageSize=50,this._filtering=!1,this._text="",this.filterText="",this._open=!1,this._popupSettings={animate:!0},this.popupMouseDownHandler=function(e){return e.preventDefault()},this.customValueSubject=new _.Subject,this.valueSubject=new _.Subject,this.clearValueSubject=new _.Subject,this.subs=new _.Subscription,r.validatePackage(s.packageMetadata),this.direction=e.rtl?"rtl":"ltr",this.data=[]}var i;return i=e,Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(e){this._text=S.isPresent(e)?e.toString():""},enumerable:!0,configurable:!0}),e.prototype.togglePopup=function(e){var t=this.disabled||this.readonly,i=this.isOpen===e;t||i||(this.triggerPopupEvents(e)||this._toggle(e))},Object.defineProperty(e.prototype,"activeDescendant",{get:function(){if(!this.isOpen||!S.isPresent(this.selectionService.focused)||-1===this.selectionService.focused)return null;var e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+(e?S.getter(e,this.valueField):"")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noDataLabel",{get:function(){if(0===this.data.length)return this.noDataText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearTitle",{get:function(){return this.localization.get("clearTitle")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appendTo",{get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=this.virtual;if(e){var t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data},set:function(e){if(this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(),this._filtering){var t=this.text.length>0&&this.dataService.itemsCount>0?this.firstFocusableIndex(0):-1;this.selectionService.focused=t}this.suggest&&this.dataService.itemsCount&&this.text&&(this.suggestedText=S.getter(this.dataService.itemAt(0),this.textField))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.setState(),this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valuePrimitive",{get:function(){return S.isPresent(this._valuePrimitive)?this._valuePrimitive:!S.isPresent(this.valueField)},set:function(e){this._valuePrimitive=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(e){this._popupSettings=Object.assign({animate:!0},e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemDisabled",{set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received "+JSON.stringify(e)+".");this.disabledItemsService.itemDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(e){this.tabindex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtualSettings},set:function(e){this._virtualSettings=F.normalizeVirtualizationSettings(e,{itemHeight:this.defaultVirtualItemHeight,pageSize:this.defaultVirtualPageSize})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearable",{get:function(){return this.clearButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearButtonVisiblity",{get:function(){if(this.touchEnabled)return"visible"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupWidth",{get:function(){var e=0;y.isDocumentAvailable()&&(e=this.wrapper.nativeElement.offsetWidth);var t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupHeight",{get:function(){var e=this.popupSettings.height;return S.isPresent(e)?e+"px":"auto"},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.attachStreams(),this.createValueStream(),this.subscribeTouchEvents(),this.attachSelectClickHandler(),this.setMessages()},e.prototype.createValueStream=function(){var e=this,t=this.valueSubject.pipe(b.filter((function(t){var i=S.getter(e.value,e.valueField),n=S.getter(t,e.valueField),o=S.getter(t,e.textField);return!(!S.isPresent(e.value)&&!S.isPresent(n))&&(S.isPresent(o)&&(o=o.toString()),i!==n||e.text!==o||(e.clearFilter(),!1))})),b.map((function(t){var i=S.getter(t,e.valueField);return{dataItem:t,text:S.getter(t,e.textField),value:e.valuePrimitive?i:t}}))),i=b.partition((function(){return e.allowCustom}))(this.customValueSubject.pipe(b.throttleTime(300))),n=i[0].pipe(b.tap((function(){e.loading=!0,e.disabled=!0,e.cdr.detectChanges()})),b.filter((function(){var t=e.text!==S.getter(e.value,e.valueField);return e.loading=t,e.disabled=t,t||e.clearFilter(),t})),this.valueNormalizer,b.map((function(t){return{custom:!0,dataItem:t,text:e.text,value:t}}))),o=i[1].pipe(b.map((function(){return{custom:!0,dataItem:void 0,text:void 0,value:void 0}}))),a=this.clearValueSubject.pipe(b.map((function(){return{dataItem:void 0,text:void 0,value:void 0}})));this.valueSubscription&&this.valueSubscription.unsubscribe();var r=_.merge(t,n,o,a);this.valueSubscription=r.pipe(b.catchError((function(){var t=void 0!==S.getter(e.dataItem,e.valueField);return e.dataItem=void 0,e.value=void 0,e.text=void 0,e.loading=!1,e.disabled=!1,t&&e.selectionChange.emit(void 0),e.emitValueChange(),e.createValueStream(),_.of(null)}))).subscribe((function(t){var i=S.getter(e.dataItem,e.valueField)!==S.getter(t.dataItem,e.valueField);if(e.dataItem=t.dataItem,e.value=t.value,e.text=t.text,e.loading=!1,e.disabled=!1,e.clearFilter(),t.custom&&(e.selectionService.focused=-1),i){var n=t.custom?void 0:e.dataItem;e.selectionChange.emit(n)}e.emitValueChange()}))},e.prototype.attachStreams=function(){var e=this;y.isDocumentAvailable()&&(this.subs.add(this.localization.changes.subscribe((function(t){var i=t.rtl;e.direction=i?"rtl":"ltr",e.setMessages()}))),this.subs.add(_.merge(this.navigationService.up,this.navigationService.down,this.navigationService.home,this.navigationService.end).pipe(b.filter((function(e){return S.isPresent(e.index)}))).subscribe((function(t){return e.navigate(t.index)}))),this.subs.add(this.navigationService.open.subscribe(this.handleNavigationOpen.bind(this))),this.subs.add(this.navigationService.close.subscribe((function(){return e.togglePopup(!1)}))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.navigationService.enter.pipe(b.tap((function(t){e.isOpen&&t.originalEvent.preventDefault()}))).subscribe(this.handleEnter.bind(this))),this.subs.add(_.merge(this.selectionService.onChange,this.selectionService.onSelect.pipe(b.filter((function(t){return!e.isOpen})))).pipe(b.tap((function(t){e._filtering=!1,e.togglePopup(!1)})),b.map((function(t){return e.dataService.itemAt(t.indices[0])}))).subscribe((function(t){e.change(t)}))),this.subs.add(this.selectionService.onSelect.pipe(b.filter((function(t){return e.isOpen})),b.tap((function(t){return e._filtering=!1})),b.map((function(t){return e.dataService.itemAt(t.indices[0])}))).subscribe((function(t){var i=S.getter(t,e.valueField)!==S.getter(e.dataItem,e.valueField);e.updateState({dataItem:t}),i&&e.selectionChange.emit(t)}))))},e.prototype.ngOnDestroy=function(){this.destroyPopup(),clearTimeout(this.messagesTimeout),this.subs.unsubscribe(),S.isPresent(this.valueSubscription)&&this.valueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler(),this.selectClickDisposeHandler&&this.selectClickDisposeHandler()},e.prototype.ngOnChanges=function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),y.isChanged("valueNormalizer",e)&&this.createValueStream(),y.anyChanged(["textField","valueField","valuePrimitive"],e,!1)&&this.setState()},e.prototype.ngAfterContentChecked=function(){this.verifySettings()},e.prototype.focusItemAt=function(e){var t=e>=0&&e<this.data.length;S.isPresent(e)&&t&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(-1)},e.prototype.focus=function(){this.disabled||this.searchbar.focus()},e.prototype.blur=function(){this.disabled||this.searchbar.blur()},e.prototype.toggle=function(e){var t=this;Promise.resolve(null).then((function(){var i=S.isPresent(e)?e:!t._open;t._toggle(i),t.cdr.markForCheck()}))},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._open},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.value=void 0,this.clearState(),this.resetSelection()},e.prototype.isEmpty=function(){var e=!S.isPresent(this.text)||S.isEmptyString(this.text),t=!S.isPresent(this.value)||S.isEmptyString(this.value);return e&&t},e.prototype.clearValue=function(e){e.stopImmediatePropagation(),this.focus(),this._filtering=!0,this._previousDataItem=void 0,this.selectionService.resetSelection([]),this.clearValueSubject.next(),this._filtering=!1},e.prototype.writeValue=function(e){this.value=null===e?void 0:e},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e},Object.defineProperty(e.prototype,"buttonClasses",{get:function(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"},enumerable:!0,configurable:!0}),e.prototype.onResize=function(){if(this.isOpen){var e=this.popupRef.popupElement,t=this.popupWidth,i=t.min,n=t.max;e.style.minWidth=i,e.style.width=n}},e.prototype.verifySettings=function(){if(o.isDevMode()){if(!0===this.valuePrimitive&&S.isPresent(this.value)&&"object"==typeof this.value)throw new Error(E.ComboBoxMessages.primitive);if(!1===this.valuePrimitive&&S.isPresent(this.value)&&"object"!=typeof this.value)throw new Error(E.ComboBoxMessages.object);if(!S.isPresent(this.valueField)!=!S.isPresent(this.textField))throw new Error(E.ComboBoxMessages.textAndValue);if(this.virtual&&isNaN(this.virtual.itemHeight))throw new Error(E.ComboBoxMessages.noItemHeight)}},e.prototype.setState=function(){if(!this._filtering){var e=this.value,t=this.valueField,i=this.findDataItem({valueField:t,value:e});S.isPresent(i.index)&&-1!==i.index?(this.updateState({dataItem:i.dataItem,confirm:!0}),this.resetSelection(i.index)):S.isPresent(e)&&this.allowCustom?(this.updateState({dataItem:e}),this.resetSelection(-1)):this._previousDataItem&&this.value?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection(-1))}},e.prototype.updateState=function(e){var t=e.dataItem,i=e.confirm,n=void 0!==i&&i;this.dataItem=t,this.text=S.getter(t,this.textField),n&&(this._previousDataItem=t)},e.prototype.clearState=function(){this.text=void 0,this.dataItem=void 0},e.prototype.resetSelection=function(e){var t=!S.isPresent(e)||e<0;this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=e},e.prototype.firstFocusableIndex=function(e){var t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e},e.prototype.findIndexPredicate=function(e){var t=this;return this.dataService.grouped?function(i){var n=S.getter(i.value,t.textField);return(n=S.isPresent(n)?n.toString().toLowerCase():"").startsWith(e.toLowerCase())}:function(i){var n=S.getter(i,t.textField);return(n=S.isPresent(n)?n.toString().toLowerCase():"").startsWith(e.toLowerCase())}},e.prototype.findDataItem=function(e){var t=this,i=e.valueField,n=e.value,o={dataItem:null,index:-1},a=this.dataService.findIndex((function(e){var o=t.dataService.grouped?e.value:e;return S.getter(o,i)===S.getter(n,i)}));return o.dataItem=this.dataService.itemAt(a),o.index=a,o},e.prototype.search=function(e,t){var i;void 0===t&&(t=0),i=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),t):-1,this.disabledItemsService.isIndexDisabled(i)?i+1<this.dataService.itemsCount?this.search(e,i+1):this.selectionService.focus(-1):(this.selectionService.focus(i),this.suggest&&(this.suggestedText=S.getter(this.dataService.itemAt(i),this.textField)))},e.prototype.getSuggestion=function(){var e=!!this.selectionService.selected.length,t=this.suggest&&!this.backspacePressed&&this.suggestedText&&this.text;if(!e&&t&&this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase()))return this.suggestedText;this.suggestedText=void 0},e.prototype.navigate=function(e){0!==this.dataService.itemsCount&&(this.text=S.getter(this.dataService.itemAt(e),this.textField),this.selectionService.select(e))},e.prototype.handleNavigate=function(e){var t=S.isPresent(this.selectionService.selected[0]),i=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused,n=0;if(!this.disabled&&!this.readonly&&e.keyCode!==x.Keys.Home&&e.keyCode!==x.Keys.End){t||(e.keyCode===x.Keys.ArrowDown?n=-1:e.keyCode===x.Keys.ArrowUp&&(n=1));var o=this.navigationService.process({current:n+i,max:this.dataService.itemsCount-1,min:0,originalEvent:e});o!==C.NavigationAction.Undefined&&o!==C.NavigationAction.Left&&o!==C.NavigationAction.Right&&o!==C.NavigationAction.Backspace&&o!==C.NavigationAction.Delete&&(o===C.NavigationAction.Enter&&this.isOpen||o!==C.NavigationAction.Enter)&&e.preventDefault()}},e.prototype.handleEnter=function(){var e=this.text,t=this.selectionService.focused,i=S.isPresent(t)&&-1!==t,n=S.getter(this._previousDataItem,this.textField)||"",o=S.getter(this.dataService.itemAt(t),this.textField),a=e!==n;this.togglePopup(!1),this._filtering=!1,this.allowCustom&&a&&(e===o||this.useSuggestion()?this.selectionService.change(t):this.change(e,!0)),this.allowCustom||(i?this.selectionService.change(t):a&&this.change(e,!0))},e.prototype.handleBlur=function(){var e=this;this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0,this.isFocused=!1;var t=S.getter(this.dataItem,this.valueField)!==S.getter(this.value,this.valueField),i=this.searchbar.value,n=i!==(S.getter(this.dataItem,this.textField)||""),o=t||n;o||y.hasObservers(this.onBlur)||y.hasObservers(this.close)||S.isUntouched(this.hostElement.nativeElement)?this.zone.run((function(){o&&(S.isPresent(e.focusedItemText)&&e.focusedItemText.toLowerCase()===i.toLowerCase()||t?e.selectionService.change(e.selectionService.focused):e.change(i,!0));e.onBlur.emit(),e.onTouchedCallback(),e.togglePopup(!1)})):this.togglePopup(!1)},e.prototype.handleEscape=function(){this.togglePopup(!1),this.selectionService.selected.length>0||(this.suggestedText=null,this.selectionService.focused=-1)},e.prototype.handleNavigationOpen=function(){this.restoreItemFocus(),this.togglePopup(!0)},e.prototype.searchBarChange=function(e){var t=this.text?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.selectionService.resetSelection([]),this.togglePopup(!0),this._filtering=!0,this.filterable&&this.filterText!==e?(this.filterText=e,this.filterChange.emit(e)):this.search(e)},e.prototype.handleFocus=function(){var e=this;this.isFocused=!0,y.hasObservers(this.onFocus)&&this.zone.run((function(){return e.onFocus.emit()}))},e.prototype.pageChange=function(e){this.virtual.skip=e.skip},e.prototype.change=function(e,t){void 0===t&&(t=!1),t?this.customValueSubject.next(e):this.valueSubject.next(e)},e.prototype.emitValueChange=function(){this.onChangeCallback(this.value),this.valueChange.emit(this.value),this._previousDataItem=this.dataItem},e.prototype.selectClick=function(){this.touchEnabled||this.searchbar.focus(),this.isOpen||this.restoreItemFocus(),this.togglePopup(!this.isOpen)},Object.defineProperty(e.prototype,"listContainerClasses",{get:function(){return["k-list-container","k-reset"].concat(this.popupSettings.popupClass||[])},enumerable:!0,configurable:!0}),e.prototype.preventEventDefault=function(e){e.preventDefault()},Object.defineProperty(e.prototype,"focusedItemText",{get:function(){var e=this.selectionService.focused;if(!S.isPresent(e)||-1===e)return null;var t=S.getter(this.dataService.itemAt(e),this.textField);return S.isPresent(t)?t.toString():""},enumerable:!0,configurable:!0}),e.prototype.restoreItemFocus=function(){!(S.isPresent(this.selectionService.focused)&&this.selectionService.focused>-1)&&this.text&&this.dataService.itemsCount&&(this.filterable?this.selectionService.focused=this.firstFocusableIndex(0):this.search(this.text))},e.prototype.useSuggestion=function(){if(!this.suggest||!S.isPresent(this.searchbar.value))return!1;var e=this.dataService.itemAt(this.selectionService.focused),t=S.getter(e,this.textField);return!!S.isPresent(t)&&this.searchbar.value.toLowerCase()===t.toLowerCase()},e.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)},e.prototype.createPopup=function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left",i={horizontal:t,vertical:"bottom"},n={horizontal:t,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",anchorAlign:i,popupAlign:n});var o=this.popupRef.popupElement,a=this.popupWidth,r=a.min,s=a.max;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=r,o.style.width=s,o.style.height=this.popupHeight,o.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused),e.opened.emit()})),this.popupRef.popupClose.subscribe((function(){e.closed.emit()})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))},e.prototype._toggle=function(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()},e.prototype.triggerPopupEvents=function(e){var t=new I.PreventableEvent;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()},e.prototype.clearFilter=function(){this.filterable&&this.filterText&&(this.filterText="",this.filterChange.emit(this.filterText))},e.prototype.setMessages=function(){var e=this;this.zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))},e.prototype.subscribeTouchEvents=function(){var e=this;y.isDocumentAvailable()&&this.touchEnabled&&this.zone.runOutsideAngular((function(){return e.touchstartDisposeHandler=e.renderer.listen(document,"touchstart",(function(t){var i=t.target,n=S.inDropDown(e.hostElement,i,e.popupRef);e.isFocused&&!n?e.zone.run((function(){return e.blur()})):e.isOpen&&!n&&e.zone.run((function(){return e.togglePopup(!1)}))}))}))},e.prototype.attachSelectClickHandler=function(){var e=this.select.nativeElement,t=A.pointers?"pointerdown":"click";this.selectClickDisposeHandler=this.renderer.listen(e,t,this.selectClick.bind(this))},n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"focusableId",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"allowCustom",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"data",null),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"value",null),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"textField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"valueField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],e.prototype,"valuePrimitive",null),n.__decorate([o.Input(),n.__metadata("design:type",Function)],e.prototype,"valueNormalizer",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"placeholder",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"popupSettings",null),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"listHeight",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"iconClass",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"loading",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"suggest",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"clearButton",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"itemDisabled",null),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"readonly",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"tabindex",void 0),n.__decorate([o.Input("tabIndex"),n.__metadata("design:type",Number),n.__metadata("design:paramtypes",[Number])],e.prototype,"tabIndex",null),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"filterable",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"virtual",null),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"valueChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"selectionChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"filterChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"open",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"opened",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"close",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"closed",void 0),n.__decorate([o.Output("focus"),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onFocus",void 0),n.__decorate([o.Output("blur"),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onBlur",void 0),n.__decorate([o.ContentChild(l.ItemTemplateDirective,{static:!1}),n.__metadata("design:type",l.ItemTemplateDirective)],e.prototype,"template",void 0),n.__decorate([o.ContentChild(d.HeaderTemplateDirective,{static:!1}),n.__metadata("design:type",d.HeaderTemplateDirective)],e.prototype,"headerTemplate",void 0),n.__decorate([o.ContentChild(u.FooterTemplateDirective,{static:!1}),n.__metadata("design:type",u.FooterTemplateDirective)],e.prototype,"footerTemplate",void 0),n.__decorate([o.ContentChild(m.NoDataTemplateDirective,{static:!1}),n.__metadata("design:type",m.NoDataTemplateDirective)],e.prototype,"noDataTemplate",void 0),n.__decorate([o.ContentChild(c.GroupTemplateDirective,{static:!1}),n.__metadata("design:type",c.GroupTemplateDirective)],e.prototype,"groupTemplate",void 0),n.__decorate([o.ContentChild(h.FixedGroupTemplateDirective,{static:!1}),n.__metadata("design:type",h.FixedGroupTemplateDirective)],e.prototype,"fixedGroupTemplate",void 0),n.__decorate([o.ViewChild("container",{read:o.ViewContainerRef,static:!0}),n.__metadata("design:type",o.ViewContainerRef)],e.prototype,"container",void 0),n.__decorate([o.ViewChild("popupTemplate",{static:!0}),n.__metadata("design:type",o.TemplateRef)],e.prototype,"popupTemplate",void 0),n.__decorate([o.ViewChild(p.SearchBarComponent,{static:!0}),n.__metadata("design:type",p.SearchBarComponent)],e.prototype,"searchbar",void 0),n.__decorate([o.ViewChild("optionsList",{static:!1}),n.__metadata("design:type",P.ListComponent)],e.prototype,"optionsList",void 0),n.__decorate([o.ViewChild("wrapper",{static:!0}),n.__metadata("design:type",o.ElementRef)],e.prototype,"wrapper",void 0),n.__decorate([o.ViewChild("select",{static:!0}),n.__metadata("design:type",o.ElementRef)],e.prototype,"select",void 0),n.__decorate([o.HostBinding("class.k-widget"),o.HostBinding("class.k-combobox"),n.__metadata("design:type",Boolean)],e.prototype,"widgetClasses",void 0),n.__decorate([o.HostBinding("class.k-combobox-clearable"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],e.prototype,"clearable",null),n.__decorate([o.HostBinding("attr.dir"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],e.prototype,"dir",null),e=i=n.__decorate([o.Component({exportAs:"kendoComboBox",providers:[t.COMBOBOX_VALUE_ACCESSOR,O.DataService,v.SelectionService,g.NavigationService,f.DisabledItemsService,T.LocalizationService,{provide:T.L10N_PREFIX,useValue:"kendo.combobox"},{provide:k.FilterableComponent,useExisting:o.forwardRef((function(){return i}))},{provide:y.KendoInput,useExisting:o.forwardRef((function(){return i}))}],selector:"kendo-combobox",template:'\n        <ng-container kendoComboBoxLocalizedMessages\n            i18n-noDataText="kendo.combobox.noDataText|The text displayed in the popup when there are no items"\n            noDataText="NO DATA FOUND"\n\n            i18n-clearTitle="kendo.combobox.clearTitle|The title of the clear button"\n            clearTitle="clear"\n        >\n        </ng-container>\n        <span #wrapper unselectable="on"\n            class="k-dropdown-wrap"\n            [ngClass]="{\'k-state-disabled\': disabled }"\n        >\n          <kendo-searchbar #searchbar\n              [role]="\'combobox\'"\n              [id]="focusableId"\n              [listId]="listBoxId"\n              [activeDescendant]="activeDescendant"\n              [noDataLabel]="noDataLabel"\n              [userInput]="text"\n              [suggestedText]="getSuggestion()"\n              [disabled]="disabled"\n              [readonly]="readonly"\n              [tabIndex]="tabIndex"\n              [popupOpen]="isOpen"\n              [placeholder]="placeholder"\n              (onNavigate)="handleNavigate($event)"\n              (valueChange)="searchBarChange($event)"\n              (onBlur)="handleBlur()"\n              (onFocus)="handleFocus()"\n          ></kendo-searchbar>\n          <span\n              *ngIf="clearButton && !loading && !disabled && !readonly && text?.length"\n              class="k-icon k-clear-value k-i-close"\n              [style.visibility]="clearButtonVisiblity"\n              aria-hidden="true"\n              [attr.title]="clearTitle"\n              (click)="clearValue($event)"\n              [kendoEventsOutsideAngular]="{\n                    mousedown: preventEventDefault\n              }"\n          >\n          </span>\n          <span\n              #select\n              aria-hidden="true"\n              unselectable="on"\n              class="k-select"\n              [kendoEventsOutsideAngular]="{\n                  mousedown: preventEventDefault\n              }"\n          >\n              <span class="k-icon" [ngClass]="buttonClasses">\n               </span>\n          </span>\n          <ng-template #popupTemplate>\n              \x3c!--header template--\x3e\n              <ng-template *ngIf="headerTemplate"\n                  [templateContext]="{\n                      templateRef: headerTemplate.templateRef\n                  }">\n              </ng-template>\n              \x3c!--list--\x3e\n              <kendo-list\n                  #optionsList\n                  [id]="listBoxId"\n                  [optionPrefix]="optionPrefix"\n                  [data]="data"\n                  [textField]="textField"\n                  [valueField]="valueField"\n                  [template]="template"\n                  [groupTemplate]="groupTemplate"\n                  [fixedGroupTemplate]="fixedGroupTemplate"\n                  [height]="listHeight"\n                  [show]="isOpen"\n                  [virtual]="virtual"\n                  (pageChange)="pageChange($event)"\n              >\n              </kendo-list>\n              \x3c!--no-data template--\x3e\n              <div class="k-nodata" *ngIf="data.length === 0">\n                  <ng-template [ngIf]="noDataTemplate"\n                      [templateContext]="{\n                          templateRef: noDataTemplate ? noDataTemplate.templateRef : undefined\n                      }">\n                  </ng-template>\n                  <ng-template [ngIf]="!noDataTemplate">\n                      <div>{{ noDataText }}</div>\n                  </ng-template>\n              </div>\n              \x3c!--footer template--\x3e\n              <ng-template *ngIf="footerTemplate"\n                  [templateContext]="{\n                      templateRef: footerTemplate.templateRef\n                  }">\n              </ng-template>\n          </ng-template>\n        </span>\n        <ng-template [ngIf]="isOpen">\n            <kendo-resize-sensor (resize)="onResize()"></kendo-resize-sensor>\n        </ng-template>\n        <ng-container #container></ng-container>\n  '}),n.__param(10,o.Optional()),n.__param(10,o.Inject(D.TOUCH_ENABLED)),n.__metadata("design:paramtypes",[T.LocalizationService,w.PopupService,v.SelectionService,g.NavigationService,f.DisabledItemsService,O.DataService,o.NgZone,o.ChangeDetectorRef,o.Renderer2,o.ElementRef,Boolean])],e)}();t.ComboBoxComponent=M},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(2),a=i(32),r=i(1),s=i(14),p=i(21),l=i(3),d=i(11),u=i(30),c=i(31),h=i(5),m=i(19),v=i(23),g=i(6),f=i(3),_=i(16),b=i(39),y=i(17),S=i(18),C=i(12),x=i(13),I=i(35),T=i(29),w=i(20),D=i(26),E=i(15),k=i(40),O=i(4),P=i(8),F=i(24),A=i(9),M=i(7),j=i(25),B=i(66),R=i(33),N={multi:!0,provide:d.NG_VALUE_ACCESSOR,useExisting:r.forwardRef((function(){return V}))},V=function(){function e(e,t,i,n,a,l,d,h,m,v,g,f){var _=this;this.localization=e,this.popupService=t,this.dataService=i,this.selectionService=n,this.navigationService=a,this.disabledItemsService=l,this.cdr=d,this.differs=h,this.renderer=m,this.hostElement=v,this._zone=g,this.touchEnabled=f,this.listBoxId=o.guid(),this.tagListId=o.guid(),this.tagPrefix="tag-"+o.guid(),this.optionPrefix="option-"+o.guid(),this.focusedTagIndex=void 0,this.focusableId="k-"+o.guid(),this.autoClose=!0,this.tabindex=0,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.listHeight=200,this.clearButton=!0,this.tagMapper=function(e){return e||[]},this.allowCustom=!1,this.valueNormalizer=function(e){return e.pipe(p.map((function(e){var t=function(t){return"string"==typeof t&&e.toLowerCase()===t.toLowerCase()},i=_.value.find(t);if(i)return i;var n=_.dataService.find(t);return n||e})))},this.filterChange=new r.EventEmitter,this.valueChange=new r.EventEmitter,this.open=new r.EventEmitter,this.opened=new r.EventEmitter,this.close=new r.EventEmitter,this.closed=new r.EventEmitter,this.onFocus=new r.EventEmitter,this.onBlur=new r.EventEmitter,this.removeTag=new r.EventEmitter,this.widgetClasses=!0,this.initialized=!1,this.onChangeCallback=function(e){},this.onTouchedCallback=function(e){},this._placeholder="",this._open=!1,this._value=[],this._popupSettings={animate:!0},this._checkboxes={enabled:!1},this._isFocused=!1,this.selectedDataItems=[],this.customValueSubject=new s.Subject,this.observableSubscriptions=new s.Subscription,u.validatePackage(c.packageMetadata),this.popupMouseDownHandler=this.onMouseDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeTouchEvents()}var t;return t=e,e.prototype.focusItemAt=function(e){var t=(this.allowCustom?-1:0)<=0&&e<this.data.length;o.isPresent(e)&&t&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(null)},e.prototype.focus=function(){this.disabled||this.searchbar.focus()},e.prototype.onSearchBarFocus=function(){var e=this;this.isFocused||(this.isFocused=!0,l.hasObservers(this.onFocus)&&this._zone.run((function(){e.onFocus.emit()})))},e.prototype.blur=function(){this.disabled||this.searchbar.blur()},e.prototype.onSearchBarBlur=function(){var e=this;this.isFocused&&(this.isFocused=!1,l.hasObservers(this.onBlur)||l.hasObservers(this.filterChange)||l.hasObservers(this.close)||o.isUntouched(this.hostElement.nativeElement)?this._zone.run((function(){e.closePopup(),e.isOpen&&e.allowCustom||e.clearFilter(),e.onBlur.emit(),e.onTouchedCallback()})):(this.allowCustom||this.clearFilter(),this.closePopup()))},e.prototype.wrapperMousedown=function(e){var t=this.searchbar.input.nativeElement;if(0===e.button){if(this.isFocused&&this.isOpen&&e.target===t)return;(!this.touchEnabled||this.touchEnabled&&"SPAN"!==e.target.tagName)&&this.searchbar.focus(),this.togglePopup(!this.isOpen),e.preventDefault()}},e.prototype.onMouseDown=function(e){e.preventDefault()},e.prototype.onResize=function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,i=t.min,n=t.max;e.style.minWidth=i,e.style.width=n}},Object.defineProperty(e.prototype,"appendTo",{get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=this.virtual;if(e){var t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data},set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.initialized&&this.setState(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create()),this.valueChangeDetected=!0,this.initialized&&this.setState(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(e){this.tabindex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.selectedDataItems.length?"":this._placeholder},set:function(e){this._placeholder=e||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemDisabled",{set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received "+JSON.stringify(e)+".");this.disabledItemsService.itemDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkboxes",{get:function(){return this._checkboxes},set:function(e){this._checkboxes=B.normalizeCheckboxesSettings(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtualSettings},set:function(e){this._virtualSettings=R.normalizeVirtualizationSettings(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(e){this._popupSettings=Object.assign({animate:!0},e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valuePrimitive",{get:function(){return o.isPresent(this._valuePrimitive)?this._valuePrimitive:!o.isPresent(this.valueField)},set:function(e){this._valuePrimitive=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listContainerClasses",{get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var e=0;l.isDocumentAvailable()&&(e=this.wrapper.nativeElement.offsetWidth);var t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var e=this.popupSettings.height;return o.isPresent(e)?e+"px":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeDescendant",{get:function(){var e,t,i=this.focusedTagIndex,n=this.selectionService.focused;if(o.isPresent(i)&&!this.isOpen)t=this.tags[i],e=this.tagPrefix;else{if(!o.isPresent(n)||-1===n||!this.isOpen)return null;t=this.dataService.itemAt(n),e=this.optionPrefix}return e+"-"+o.getter(t,this.valueField)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noDataLabel",{get:function(){if(0===this.dataService.itemsCount)return this.noDataText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearTitle",{get:function(){return this.localization.get("clearTitle")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearButtonVisiblity",{get:function(){if(this.touchEnabled)return"visible"},enumerable:!0,configurable:!0}),e.prototype.verifySettings=function(){if(r.isDevMode()&&0!==this.value.length){if(!o.isArray(this.value))throw new Error(D.MultiselectMessages.array);if(!0===this.valuePrimitive&&o.isObjectArray(this.value))throw new Error(D.MultiselectMessages.primitive);if(!1===this.valuePrimitive&&!o.isObjectArray(this.value))throw new Error(D.MultiselectMessages.object);if(!o.isPresent(this.valueField)!=!o.isPresent(this.textField))throw new Error(D.MultiselectMessages.textAndValue)}},e.prototype.change=function(e){var t=this;if((o.isPresent(e.added)||o.isPresent(e.removed))&&(-1===e.added||-1===e.removed))this.addCustomValue(this.text);else{if(o.isPresent(e.added)){var i=this.dataService.itemAt(e.added),n=this.valuePrimitive&&o.isPresent(i)&&o.isPresent(i[this.valueField])?i[this.valueField]:i;this.value=this.value.concat([n])}if(o.isPresent(e.removed)){var a=this.dataService.itemAt(e.removed);this.value=this.value.filter((function(e){return o.getter(e,t.valueField)!==o.getter(a,t.valueField)})),this.selectionService.focused=e.removed,this.cdr.detectChanges()}this.emitValueChange()}},e.prototype.setState=function(e){var t=this,i=this.dataService.data;this.dataService.grouped&&(i=i.filter((function(e){return!e.header})).map((function(e){return e.value})));var n=o.selectedIndices(this.value,i,this.valueField);this.selectionService.resetSelection(n),this.disabledItemsService.isIndexDisabled(this.selectionService.focused)&&(this.selectionService.focused=this.firstFocusableIndex(0)),this.isOpen&&void 0===this.selectionService.focused&&(this.dataService.itemsCount>0?this.selectionService.focused=this.firstFocusableIndex(0):this.allowCustom&&(this.selectionService.focused=-1)),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=e.slice()),(o.isObjectArray(e)||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=o.resolveAllValues(e,i,this.valueField)),this.selectedDataItems.length<e.length&&(this.selectedDataItems=e.map((function(e){var i=t.selectedDataItems.find((function(i){return o.getter(i,t.valueField)===o.getter(e,t.valueField)}));return o.isPresent(i)?i:t.resolveDataItemFromTags(e)})).filter((function(e){return o.isPresent(e)}))),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.disabledIndices=this.disabledItemsMapper(),this.cdr.markForCheck()},e.prototype.handleFilter=function(e){this.text=e,e&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(e):this.searchTextAndFocus(e),this.searchbar.setInputSize()},e.prototype.pageChange=function(e){this.virtual.skip=e.skip},e.prototype.clearFilter=function(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()},e.prototype.handleNavigate=function(e){var t=this.text&&e.keyCode!==f.Keys.ArrowDown&&e.keyCode!==f.Keys.ArrowUp,i=this.text&&e.keyCode===f.Keys.Enter||e.keyCode===f.Keys.Escape;if(!this.text&&e.keyCode===f.Keys.Backspace&&this.tags.length>0)this.handleBackspace();else if(!(this.disabled||t&&!i)){var n=e,o=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,a=this.navigationService.process({current:o,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:n});a!==v.NavigationAction.Undefined&&(a===v.NavigationAction.Enter&&this.isOpen||a!==v.NavigationAction.Enter)&&e.preventDefault()}},e.prototype.handleRemoveTag=function(e){var t=e.tag,i=new k.RemoveTagEvent(t);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(i),i.isDefaultPrevented()||(t instanceof Array?this.removeGroupTag(t):this.removeSingleTag(t),this.cdr.detectChanges()))},e.prototype.clearAll=function(e){var t=this;e.stopImmediatePropagation(),e.preventDefault(),this.focus(),this.clearFilter();var i=this.selectionService.selected;this.value=this.value.filter((function(e,n){return t.disabledItemsService.isIndexDisabled(i[n])})),this.emitValueChange()},e.prototype.addCustomValue=function(e){this.customValueSubject.next(e)},e.prototype.ngAfterContentChecked=function(){this.verifySettings()},e.prototype.ngDoCheck=function(){this.differ&&this.differ.diff(this.value)&&!this.valueChangeDetected&&this.setState(this.value),this.valueChangeDetected=!1},e.prototype.ngOnInit=function(){var e=this;this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.createCustomValueStream(),this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var i=t.rtl;e.direction=i?"rtl":"ltr",e.setMessages()})),this.setMessages(),this.setState(this.value),this.initialized=!0},e.prototype.ngOnChanges=function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),l.isChanged("valueNormalizer",e)&&this.createCustomValueStream(),l.anyChanged(["textField","valueField","valuePrimitive"],e)&&this.setState(this.value)},e.prototype.ngAfterViewInit=function(){this.searchbar.setInputSize()},e.prototype.ngOnDestroy=function(){this._toggle(!1),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout)},e.prototype.toggle=function(e){var t=this;Promise.resolve(null).then((function(){var i=o.isPresent(e)?e:!t._open;t._toggle(i),t.cdr.markForCheck()}))},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._open},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.text="",this.value=[]},e.prototype.writeValue=function(e){this.value=e||[]},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.onTagMapperChange=function(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()},Object.defineProperty(e.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.renderer[e?"addClass":"removeClass"](this.hostElement.nativeElement,"k-state-focused"),this._isFocused=e},enumerable:!0,configurable:!0}),e.prototype.subscribeEvents=function(){var e=this;if(l.isDocumentAvailable()){var t=function(){return e.isOpen},i=function(){return!e.isOpen},n=function(){return!e.isOpen&&void 0!==e.focusedTagIndex};[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(this.closePopup.bind(this)),this.navigationService.enter.pipe(p.filter(t)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe(p.filter(t)).subscribe((function(t){return e.handleUp(t.index)})),this.navigationService.home.pipe(p.filter((function(){return i}))).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(p.filter((function(){return i}))).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(p.filter(n)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(p.filter(n)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe("rtl"===this.direction?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.subscribe("rtl"===this.direction?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.down.subscribe((function(t){return e.handleDownKey(t.index)}))].forEach((function(t){return e.observableSubscriptions.add(t)}))}},e.prototype.subscribeTouchEvents=function(){var e=this;l.isDocumentAvailable()&&this.touchEnabled&&this._zone.runOutsideAngular((function(){return e.touchstartDisposeHandler=e.renderer.listen(document,"touchstart",(function(t){var i=t.target;!e.isFocused&&!e.isOpen||o.inDropDown(e.hostElement,i,e.popupRef)||e._zone.run((function(){e.blur(),e.isOpen&&e.togglePopup(!1)}))}))}))},e.prototype.unsubscribeEvents=function(){l.isDocumentAvailable()&&(this.observableSubscriptions.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler())},e.prototype.removeGroupTag=function(e){var t=this,i=this.dataService.data;this.dataService.grouped&&(i=i.filter((function(e){return!e.header})).map((function(e){return e.value})));var n=new Set(e.map((function(e){return o.getter(e,t.valueField)})));this.value=this.value.filter((function(e){var a=o.selectedIndices([e],i,t.valueField)[0],r=t.disabledItemsService.isIndexDisabled(a);return!n.has(o.getter(e,t.valueField))||r})),this.emitValueChange()},e.prototype.removeSingleTag=function(e){var t=this,i=this.dataService.data;this.dataService.grouped&&(i=i.filter((function(e){return!e.header})).map((function(e){return e.value})));var n=o.selectedIndices([e],i,this.valueField)[0];if(!this.disabledItemsService.isIndexDisabled(n))if(o.isNumber(n))this.selectionService.unselect(n),this.selectionService.focused=n,this.togglePopup(!1);else{this.value=this.value.filter((function(i){return o.getter(i,t.valueField)!==o.getter(e,t.valueField)})),this.emitValueChange()}},e.prototype.disabledItemsMapper=function(){var e=this,t=this.selectionService.selected;return new Set(this.selectedDataItems.reduce((function(i,n,o){return e.disabledItemsService.isIndexDisabled(t[o])&&i.push(o),i}),[]))},e.prototype.createCustomValueStream=function(){var e=this;this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe(p.tap((function(){e.loading=!0,e.disabled=!0,e.cdr.detectChanges()})),this.valueNormalizer,p.catchError((function(){return e.loading=!1,e.disabled=!1,e.autoClose&&e.togglePopup(!1),!e.autoClose&&e.filterable||e.clearFilter(),e.nextTick((function(){e.searchbar.focus()})),e.createCustomValueStream(),s.of(null)}))).subscribe((function(t){if(e.loading=!1,e.disabled=!1,o.isPresent(t)){var i=e.valuePrimitive?o.getter(t,e.valueField):t,n=e.dataService.indexOf(i),a=-1===n;-1===e.value.indexOf(i)?(e.tags=e.tagMapper(e.selectedDataItems.concat([t])),a?e.value=e.value.concat([i]):e.selectionService.add(n)):!a&&e.selectionService.isSelected(n)?(e.selectionService.unselect(n),e.selectionService.focused=n):e.value=e.value.filter((function(t){return o.getter(t,e.valueField)!==i})),e.emitValueChange()}e.autoClose&&e.togglePopup(!1),!e.autoClose&&e.filterable||e.clearFilter(),e.nextTick((function(){e.searchbar.focus()}))}))},e.prototype.handleItemChange=function(e){this.change(e),this.autoClose&&this.togglePopup(!1),!this.autoClose&&this.filterable||this.clearFilter()},e.prototype.handleEnter=function(e){var t=this.selectionService,i=this.selectionService.focused;this.isOpen&&e.originalEvent.preventDefault(),-1!==i?(t.isSelected(i)?(t.unselect(i),t.focused=i):t.add(i),this.autoClose&&this.togglePopup(!1),!this.autoClose&&this.filterable||this.clearFilter()):this.allowCustom&&this.text&&this.addCustomValue(this.text)},e.prototype.handleClose=function(){this.closePopup(),this.searchbar.focus()},e.prototype.handleEnd=function(){this.focusedTagIndex=this.tags.length-1},e.prototype.handleHome=function(){this.focusedTagIndex=0},e.prototype.handleUp=function(e){this.selectionService.focused=e},e.prototype.handleBackspace=function(){void 0!==this.focusedTagIndex?this.handleDelete():(this.handleRemoveTag({tag:this.tags[this.tags.length-1]}),this.searchbar.focus())},e.prototype.handleDelete=function(){this.handleRemoveTag({tag:this.tags[this.focusedTagIndex]}),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)},e.prototype.handleLeftKey=function(){void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--},e.prototype.handleDownKey=function(e){this.isOpen?this.selectionService.focused=e||this.firstFocusableIndex(0):this.openPopup()},e.prototype.handleRightKey=function(){var e=this.tags.length-1;this.focusedTagIndex===e?this.focusedTagIndex=void 0:this.focusedTagIndex<e&&this.focusedTagIndex++},e.prototype.findIndex=function(e,t){var i,n=this;void 0===t&&(t=0),e=e.toLowerCase();var a=this.dataService.findIndex((function(t){return i=n.dataService.grouped?o.getter(t.value,n.textField):o.getter(t,n.textField),i=o.isPresent(i)?i.toString().toLowerCase():"",e&&i.startsWith(e)}),t);return this.disabledItemsService.isIndexDisabled(a)?a+1>this.dataService.itemsCount?-1:this.findIndex(e,a+1):a},e.prototype.searchTextAndFocus=function(e){var t=this.findIndex(e);this.selectionService.focused=t},e.prototype.closePopup=function(){this.togglePopup(!1),this.focusedTagIndex=void 0},e.prototype.openPopup=function(){this.togglePopup(!0),this.focusedTagIndex=void 0},e.prototype.togglePopup=function(e){var t=this.disabled||this.readonly,i=this.isOpen===e;t||i||(this.triggerPopupEvents(e)||this._toggle(e))},e.prototype.triggerPopupEvents=function(e){var t=new E.PreventableEvent;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()},e.prototype._toggle=function(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()},e.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)},e.prototype.createPopup=function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left",i={horizontal:t,vertical:"bottom"},n={horizontal:t,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:i,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:n,popupClass:this.listContainerClasses,positionMode:"absolute"});var o=this.popupRef.popupElement,a=this.width,r=a.min,s=a.max;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=r,o.style.width=s,o.style.height=this.height,o.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused),e.opened.emit()})),this.popupRef.popupClose.subscribe((function(){e.closed.emit()})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){e.togglePopup(!1)}))},e.prototype.emitValueChange=function(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)},e.prototype.resolveDataItemFromTags=function(e){var t=this;if(this.tags&&this.tags.length&&o.isPresent(e))return this.tags.reduce((function(e,t){var i=o.isArray(t)?t:[t];return e.push.apply(e,i),e}),[]).find((function(i){return o.getter(i,t.valueField)===o.getter(e,t.valueField)}))},e.prototype.firstFocusableIndex=function(e){var t=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(e)){var i=e+1;return i<t?this.firstFocusableIndex(i):void 0}return e},e.prototype.nextTick=function(e){var t=this;this._zone.runOutsideAngular((function(){setTimeout((function(){return t._zone.run(e)}))}))},e.prototype.setMessages=function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))},n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"focusableId",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"autoClose",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"loading",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"data",null),n.__decorate([r.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"value",null),n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"valueField",void 0),n.__decorate([r.Input(),n.__metadata("design:type",String)],e.prototype,"textField",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Number)],e.prototype,"tabindex",void 0),n.__decorate([r.Input("tabIndex"),n.__metadata("design:type",Number),n.__metadata("design:paramtypes",[Number])],e.prototype,"tabIndex",null),n.__decorate([r.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],e.prototype,"placeholder",null),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"itemDisabled",null),n.__decorate([r.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"checkboxes",null),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"readonly",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"filterable",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"virtual",null),n.__decorate([r.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"popupSettings",null),n.__decorate([r.Input(),n.__metadata("design:type",Number)],e.prototype,"listHeight",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],e.prototype,"valuePrimitive",null),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"clearButton",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Object)],e.prototype,"tagMapper",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Boolean)],e.prototype,"allowCustom",void 0),n.__decorate([r.Input(),n.__metadata("design:type",Function)],e.prototype,"valueNormalizer",void 0),n.__decorate([r.Output(),n.__metadata("design:type",r.EventEmitter)],e.prototype,"filterChange",void 0),n.__decorate([r.Output(),n.__metadata("design:type",r.EventEmitter)],e.prototype,"valueChange",void 0),n.__decorate([r.Output(),n.__metadata("design:type",r.EventEmitter)],e.prototype,"open",void 0),n.__decorate([r.Output(),n.__metadata("design:type",r.EventEmitter)],e.prototype,"opened",void 0),n.__decorate([r.Output(),n.__metadata("design:type",r.EventEmitter)],e.prototype,"close",void 0),n.__decorate([r.Output(),n.__metadata("design:type",r.EventEmitter)],e.prototype,"closed",void 0),n.__decorate([r.Output("focus"),n.__metadata("design:type",r.EventEmitter)],e.prototype,"onFocus",void 0),n.__decorate([r.Output("blur"),n.__metadata("design:type",r.EventEmitter)],e.prototype,"onBlur",void 0),n.__decorate([r.Output(),n.__metadata("design:type",r.EventEmitter)],e.prototype,"removeTag",void 0),n.__decorate([r.ViewChild("container",{read:r.ViewContainerRef,static:!0}),n.__metadata("design:type",r.ViewContainerRef)],e.prototype,"container",void 0),n.__decorate([r.ViewChild(a.SearchBarComponent,{static:!0}),n.__metadata("design:type",a.SearchBarComponent)],e.prototype,"searchbar",void 0),n.__decorate([r.ViewChild("popupTemplate",{static:!0}),n.__metadata("design:type",r.TemplateRef)],e.prototype,"popupTemplate",void 0),n.__decorate([r.ViewChild("wrapper",{static:!0}),n.__metadata("design:type",r.ElementRef)],e.prototype,"wrapper",void 0),n.__decorate([r.ViewChild("optionsList",{static:!1}),n.__metadata("design:type",j.ListComponent)],e.prototype,"optionsList",void 0),n.__decorate([r.ContentChild(_.ItemTemplateDirective,{static:!1}),n.__metadata("design:type",_.ItemTemplateDirective)],e.prototype,"template",void 0),n.__decorate([r.ContentChild(b.CustomItemTemplateDirective,{static:!1}),n.__metadata("design:type",b.CustomItemTemplateDirective)],e.prototype,"customItemTemplate",void 0),n.__decorate([r.ContentChild(y.GroupTemplateDirective,{static:!1}),n.__metadata("design:type",y.GroupTemplateDirective)],e.prototype,"groupTemplate",void 0),n.__decorate([r.ContentChild(S.FixedGroupTemplateDirective,{static:!1}),n.__metadata("design:type",S.FixedGroupTemplateDirective)],e.prototype,"fixedGroupTemplate",void 0),n.__decorate([r.ContentChild(C.HeaderTemplateDirective,{static:!1}),n.__metadata("design:type",C.HeaderTemplateDirective)],e.prototype,"headerTemplate",void 0),n.__decorate([r.ContentChild(x.FooterTemplateDirective,{static:!1}),n.__metadata("design:type",x.FooterTemplateDirective)],e.prototype,"footerTemplate",void 0),n.__decorate([r.ContentChild(I.TagTemplateDirective,{static:!1}),n.__metadata("design:type",I.TagTemplateDirective)],e.prototype,"tagTemplate",void 0),n.__decorate([r.ContentChild(T.GroupTagTemplateDirective,{static:!1}),n.__metadata("design:type",T.GroupTagTemplateDirective)],e.prototype,"groupTagTemplate",void 0),n.__decorate([r.ContentChild(w.NoDataTemplateDirective,{static:!1}),n.__metadata("design:type",w.NoDataTemplateDirective)],e.prototype,"noDataTemplate",void 0),n.__decorate([r.HostBinding("class.k-widget"),r.HostBinding("class.k-multiselect"),n.__metadata("design:type",Boolean)],e.prototype,"widgetClasses",void 0),n.__decorate([r.HostBinding("attr.dir"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],e.prototype,"dir",null),n.__decorate([r.HostBinding("class.k-state-disabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],e.prototype,"disabledClass",null),e=t=n.__decorate([r.Component({exportAs:"kendoMultiSelect",providers:[N,M.DataService,h.SelectionService,m.NavigationService,g.DisabledItemsService,O.LocalizationService,{provide:O.L10N_PREFIX,useValue:"kendo.multiselect"},{provide:F.FilterableComponent,useExisting:r.forwardRef((function(){return t}))},{provide:l.KendoInput,useExisting:r.forwardRef((function(){return t}))}],selector:"kendo-multiselect",template:'\n        <ng-container kendoMultiSelectLocalizedMessages\n            i18n-noDataText="kendo.multiselect.noDataText|The text displayed in the popup when there are no items"\n            noDataText="NO DATA FOUND"\n\n            i18n-clearTitle="kendo.combobox.clearTitle|The title of the clear button"\n            clearTitle="clear"\n        >\n        </ng-container>\n        <div class="k-multiselect-wrap k-floatwrap"\n            #wrapper\n            (mousedown)="wrapperMousedown($event)"\n        >\n            <kendo-taglist\n                [id]="tagListId"\n                [tags]="tags"\n                [textField]="textField"\n                [valueField]="valueField"\n                [focused]="focusedTagIndex"\n                [disabled]="disabled"\n                [template]="tagTemplate"\n                [groupTemplate]="groupTagTemplate"\n                [tagPrefix]="tagPrefix"\n                [disabledIndices]="disabledIndices"\n                (removeTag)="handleRemoveTag($event)"\n            >\n            </kendo-taglist>\n            <kendo-searchbar\n                #searchbar\n                [id]="focusableId"\n                [role]="\'listbox\'"\n                [tagListId]="tagListId"\n                [activeDescendant]="activeDescendant"\n                [noDataLabel]="noDataLabel"\n                [userInput]="text"\n                [disabled]="disabled"\n                [readonly]="readonly"\n                [tabIndex]="tabIndex"\n                [popupOpen]="isOpen"\n                [placeholder]="placeholder"\n                (onNavigate)="handleNavigate($event)"\n                (valueChange)="handleFilter($event)"\n                (onBlur)="onSearchBarBlur()"\n                (onFocus)="onSearchBarFocus()"\n            >\n            </kendo-searchbar>\n            <span\n                *ngIf="!loading && !readonly && clearButton && (tags?.length || text?.length)"\n                class="k-icon k-clear-value k-i-close"\n                [style.visibility]="clearButtonVisiblity"\n                [attr.title]="clearTitle"\n                role="button"\n                tabindex="-1"\n                (mousedown)="clearAll($event)"\n            >\n            </span>\n            <span\n                *ngIf="loading"\n                class="k-icon k-i-loading"\n            >\n            </span>\n        </div>\n        <ng-template #popupTemplate>\n            \x3c!--header template--\x3e\n            <ng-template *ngIf="headerTemplate"\n                [templateContext]="{\n                    templateRef: headerTemplate.templateRef\n                }">\n            </ng-template>\n            \x3c!--custom item template--\x3e\n            <div class="k-list" *ngIf="allowCustom && text">\n                <div class="k-item k-custom-item" kendoDropDownsSelectable [multipleSelection]="true" [index]="-1">\n                    <ng-template *ngIf="customItemTemplate;else default_custom_item_template"\n                        [templateContext]="{\n                            templateRef: customItemTemplate.templateRef,\n                            $implicit: text\n                        }">\n                    </ng-template>\n                    <ng-template #default_custom_item_template>{{ text }}</ng-template>\n                    <span class="k-icon k-i-plus" style="float: right"></span>\n                </div>\n            </div>\n            \x3c!--list--\x3e\n            <kendo-list\n                #optionsList\n                [id]="listBoxId"\n                [optionPrefix]="optionPrefix"\n                [data]="data"\n                [textField]="textField"\n                [valueField]="valueField"\n                [height]="listHeight"\n                [template]="template"\n                [groupTemplate]="groupTemplate"\n                [fixedGroupTemplate]="fixedGroupTemplate"\n                [show]="isOpen"\n                [multipleSelection]="true"\n                [virtual]="virtual"\n                (pageChange)="pageChange($event)"\n                [checkboxes]="checkboxes"\n                >\n            </kendo-list>\n            \x3c!--no data template--\x3e\n            <div class="k-nodata" *ngIf="data.length === 0">\n                <ng-template [ngIf]="noDataTemplate"\n                    [templateContext]="{\n                        templateRef: noDataTemplate ? noDataTemplate.templateRef : undefined\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!noDataTemplate">\n                    <div>{{ noDataText }}</div>\n                </ng-template>\n            </div>\n            \x3c!--footer template--\x3e\n            <ng-template *ngIf="footerTemplate"\n                [templateContext]="{\n                    templateRef: footerTemplate.templateRef\n                }">\n            </ng-template>\n        </ng-template>\n        <ng-template [ngIf]="isOpen">\n            <kendo-resize-sensor (resize)="onResize()"></kendo-resize-sensor>\n        </ng-template>\n        <ng-container #container></ng-container>\n  '}),n.__param(11,r.Optional()),n.__param(11,r.Inject(A.TOUCH_ENABLED)),n.__metadata("design:paramtypes",[O.LocalizationService,P.PopupService,M.DataService,h.SelectionService,m.NavigationService,g.DisabledItemsService,r.ChangeDetectorRef,r.KeyValueDiffers,r.Renderer2,r.ElementRef,r.NgZone,Boolean])],e)}();t.MultiSelectComponent=V},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoMultiSelectCustomItemTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.CustomItemTemplateDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=function(e){function t(t){var i=e.call(this)||this;return i.dataItem=t,i}return n.__extends(t,e),t}(i(15).PreventableEvent);t.RemoveTagEvent=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(42),r=i(43),s=function(){function e(){this.hidden=!1,this.matchesMedia=!0}return n.__decorate([o.ContentChild(a.ColumnCellTemplateDirective,{static:!1}),n.__metadata("design:type",a.ColumnCellTemplateDirective)],e.prototype,"cellTemplate",void 0),n.__decorate([o.ContentChild(r.ColumnHeaderTemplateDirective,{static:!1}),n.__metadata("design:type",r.ColumnHeaderTemplateDirective)],e.prototype,"headerTemplate",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"field",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"title",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"width",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"hidden",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"style",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"headerStyle",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"class",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"headerClass",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"media",void 0),e=n.__decorate([o.Component({selector:"kendo-combobox-column",template:""})],e)}();t.ComboBoxColumnComponent=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoMultiColumnComboBoxColumnCellTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.ColumnCellTemplateDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.templateRef=e}return e=n.__decorate([o.Directive({selector:"[kendoMultiColumnComboBoxColumnHeaderTemplate]"}),n.__metadata("design:paramtypes",[o.TemplateRef])],e)}();t.ColumnHeaderTemplateDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(11),r=i(3),s=i(4),p=i(19),l=i(8),d=i(10),u=i(7),c=i(6),h=i(5),m=i(15),v=i(23),g=i(2),f=i(40),_=i(26),b=i(12),y=i(13),S=i(36),C=i(20),x=i(35),I=i(29),T=i(9),w=i(14),D=i(21),E={animate:!0},k={checkChildren:!0,checkOnClick:!0},O=function(){return!1},P=function(){return w.of([])},F=function(){return!1},A=function(){return!0},M=function(){function e(e,t,i,n,a,s,p,l){this.popupService=e,this.renderer=t,this.hostElement=i,this.navigationService=n,this._zone=a,this.localization=s,this.cdr=p,this.touchEnabled=l,this.hostClasses=!0,this.valueDepth=[],this.placeholder="",this.listHeight=200,this.disabled=!1,this.readonly=!1,this.valuePrimitive=!1,this.loadOnDemand=!1,this.focusableId="k-"+r.guid(),this.clearButton=!0,this.filterable=!1,this.hasChildren=O,this.fetchChildren=P,this.isNodeVisible=A,this.itemDisabled=F,this.tagMapper=function(e){return e||[]},this.onFocus=new o.EventEmitter,this.onBlur=new o.EventEmitter,this.open=new o.EventEmitter,this.opened=new o.EventEmitter,this.close=new o.EventEmitter,this.closed=new o.EventEmitter,this.nodeExpand=new o.EventEmitter,this.nodeCollapse=new o.EventEmitter,this.valueChange=new o.EventEmitter,this.removeTag=new o.EventEmitter,this.filterChange=new o.EventEmitter,this.filterStateChange=new o.EventEmitter,this.checkedItems=[],this.checkBy=function(e){return e},this.showAfter=0,this.allNodesHidden=!1,this.tagListId=r.guid(),this.tagPrefix="tag-"+r.guid(),this.focusedTagIndex=void 0,this._value=[],this._tabindex=0,this._popupSettings=E,this._checkableSettings=k,this._isFocused=!1,this.subscriptions=[],this.onTouchedCallback=g.noop,this.onChangeCallback=g.noop,this.direction=s.rtl?"rtl":"ltr",this.subscribeEvents()}var t;return t=e,Object.defineProperty(e.prototype,"treeview",{get:function(){return this._treeview},set:function(e){var t=this;this._treeview=e,e&&((this.isFocused&&!this.filterable||this.touchEnabled)&&e.focus(),Promise.resolve(null).then((function(){return t.treeview.animate=!0})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabindex",{get:function(){return this.disabled?-1:this._tabindex},set:function(e){var t=g.parseNumber(e);this._tabindex=isNaN(t)?0:t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(e){this._popupSettings=Object.assign({},E,e),this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkableSettings",{get:function(){return this._checkableSettings},set:function(e){this._checkableSettings=Object.assign({},k,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._nodes},set:function(e){this._nodes=e,this.setState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e||[],this.setState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataItems",{get:function(){var e=this;return this._dataItems||this.value.map((function(t,i){return{dataItem:t,index:null,level:e.valueDepth[i]||0}}))},set:function(e){var t=this;this._dataItems=(e||[]).map((function(e,i){return g.hasProps(e,["dataItem","index","level"])?e:{dataItem:e,index:null,level:t.valueDepth[i]||0}})),this.setState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusedTagId",{get:function(){if(!g.isPresent(this.focusedTagIndex)||this.isOpen)return null;var e=this.tags[this.focusedTagIndex];return this.tagPrefix+"-"+g.valueFrom({dataItem:e},this.valueField)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.renderer[e?"addClass":"removeClass"](this.hostElement.nativeElement,"k-state-focused"),this._isFocused=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return g.isPresent(this.popupRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var e=this.wrapper.nativeElement.offsetWidth,t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var e=this.popupSettings.height;return g.isPresent(e)?e+"px":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appendTo",{get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupContainerClasses",{get:function(){var e=["k-popup-dropdowntree","k-reset","k-group","k-list-container"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nodes",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.fetchChildren},set:function(e){this.fetchChildren=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expand",{get:function(){return this.nodeExpand},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapse",{get:function(){return this.nodeCollapse},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this.isNodeExpanded},set:function(e){this.isNodeExpanded=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.isNodeVisible},set:function(e){this.isNodeVisible=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTagFocused",{get:function(){return!this.isOpen&&void 0!==this.focusedTagIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTreeViewActive",{get:function(){return this.treeview&&this.treeview.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWrapperActive",{get:function(){return document.activeElement===this.wrapper.nativeElement},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded",String(this.isOpen)),this.subscriptions.push(this.localization.changes.subscribe((function(t){var i=t.rtl;e.direction=i?"rtl":"ltr",e.cdr.markForCheck()})))},e.prototype.ngOnDestroy=function(){this.destroyPopup(),this.unsubscribeEvents()},e.prototype.ngOnChanges=function(e){var t=this;r.anyChanged(["textField","valueField","valuePrimitive"],e,!1)&&this.setState(),r.anyChanged(["valueDepth","value","dataItems"],e,!1)&&(!e.value||e.dataItems||this.valuePrimitive?this.dataItems=this.dataItems.map((function(e,i){return n.__assign({},e,{level:t.valueDepth[i]||0})})):this.dataItems=this.value)},e.prototype.ngAfterContentChecked=function(){this.verifySettings()},e.prototype.isEmpty=function(){return!(Boolean(this.placeholder)||g.isPresent(this.value)&&0!==this.value.length)},e.prototype.focus=function(){this.disabled||this.wrapper.nativeElement.focus()},e.prototype.blur=function(){this.disabled||this.wrapper.nativeElement.blur()},e.prototype.focusItemAt=function(e){if(this.treeview){var t=this.treeview.itemLookup(e);!g.isPresent(t)||this.treeview.isDisabled(t.item.dataItem,t.item.index)||this.treeview.focus(e)}},e.prototype.reset=function(){this.value=[],this.dataItems=[],this.valueDepth=[]},e.prototype.toggle=function(e){var t=this;Promise.resolve(null).then((function(){var i=g.isPresent(e)?e:!g.isPresent(t.popupRef);t.destroyPopup(),i&&t.createPopup()}))},e.prototype.handleFocus=function(){var e=this;this.isFocused||(this.isFocused=!0,r.hasObservers(this.onFocus)&&this._zone.run((function(){e.onFocus.emit()})),this.isOpen&&this.treeview&&(this.lastNodeOnFocus.setAttribute("tabindex","0"),this.treeview.focus()))},e.prototype.handleBlur=function(e){var t=this,i=e&&e.relatedTarget;this.hostElement.nativeElement.contains(i)||this.isOpen&&this.popupRef.popupElement.contains(i)||(this.isFocused=!1,this.togglePopup(!1),(r.hasObservers(this.onBlur)||g.isUntouched(this.hostElement.nativeElement))&&this._zone.run((function(){t.onBlur.emit(),t.onTouchedCallback()})))},e.prototype.handleClick=function(){this.togglePopup(!this.isOpen)},e.prototype.handleKeydown=function(e){if(this.isWrapperActive&&e.keyCode===r.Keys.Backspace&&this.tags.length>0)this.handleBackspace();else if(!this.disabled&&!this.readonly){var t=e;this.navigationService.process({originalEvent:t})===v.NavigationAction.Open&&t.preventDefault()}},e.prototype.handleNodeClick=function(e){if(!this.isFocused){var t=e.originalEvent.target.parentElement.parentElement;this.lastNodeOnFocus=t,this.focus()}},e.prototype.togglePopup=function(e){var t=this,i=this.disabled||this.readonly,n=this.isOpen===e;(this._zone.run((function(){t.focusedTagIndex=void 0})),i||n)||(this.triggerPopupEvents(e)?this.removeTreeViewFromTabOrder():e?this.createPopup():this.destroyPopup())},e.prototype.messageFor=function(e){return this.localization.get(e)},e.prototype.handleCheckedItemsChange=function(e){this.valueDepth=e.map((function(e){return e.level})),this.dataItems=e.slice(),this.updateValue(this.dataItems)},e.prototype.handleRemoveTag=function(e){var t=this,i=e.tag,n=e.index;if(!this.disabled&&!this.readonly){var o=new f.RemoveTagEvent(i);this.removeTag.emit(o),o.isDefaultPrevented()||(i instanceof Array?(this.dataItems=this.dataItems.filter((function(e,i){return i<t.showAfter||t.disabledIndices.has(i)})),this.valueDepth=this.valueDepth.filter((function(e,i){return i<t.showAfter||t.disabledIndices.has(i)}))):(this.dataItems=this.dataItems.filter((function(e,i){return i!==n||t.disabledIndices.has(i)})),this.valueDepth=this.valueDepth.filter((function(e,i){return i!==n||t.disabledIndices.has(i)}))),this.updateValue(this.dataItems),this.isFocused||this.focus())}},e.prototype.handleTagMapperChange=function(e){this.showAfter=g.parseNumber(e),this.setTags()},e.prototype.clearAll=function(e){var t=this;e.stopImmediatePropagation(),e.preventDefault(),this.focus(),this.value=this.value.filter((function(e,i){return t.disabledIndices.has(i)})),this.dataItems=this.dataItems.filter((function(e,i){return t.disabledIndices.has(i)})),this.valueDepth=this.valueDepth.filter((function(e,i){return t.disabledIndices.has(i)})),this.emitValueChange(this.value)},e.prototype.writeValue=function(e){this.value=e||[],this.valuePrimitive||(this.dataItems=this.value)},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e,this.cdr.markForCheck()},e.prototype.handleFilterInputChange=function(e){var t=this;this.filterChange.next(e),this.allNodesHidden=this.nodes.every((function(e,i){return!t.isVisible(e,String(i))}))},e.prototype.verifySettings=function(){if(o.isDevMode()){if(!g.isPresent(this.valueField)||!g.isPresent(this.textField))throw new Error(_.MultiSelectTreeMessages.textAndValue);if(!g.isArray(this.value))throw new Error(_.MultiSelectTreeMessages.array);if(this.value.length>0){if(this.valuePrimitive&&this.value.some((function(e){return g.isObject(e)})))throw new Error(_.MultiSelectTreeMessages.primitive);var e=this.dataItems.every((function(e){return g.isObject(e.dataItem)}));if(this.valuePrimitive&&!g.isArray(this.dataItems))throw new Error(_.MultiSelectTreeMessages.dataItems);if(this.valuePrimitive&&!e)throw new Error(_.MultiSelectTreeMessages.dataItems);if(this.valuePrimitive&&this.dataItems.length!==this.value.length)throw new Error(_.MultiSelectTreeMessages.dataItemsLength);if(!this.valuePrimitive&&!g.isObjectArray(this.value))throw new Error(_.MultiSelectTreeMessages.object);if((g.isArray(this.valueField)||g.isArray(this.textField))&&!g.isArray(this.valueDepth))throw new Error(_.MultiSelectTreeMessages.valueDepth);if((g.isArray(this.valueField)||g.isArray(this.textField))&&0===this.valueDepth.length)throw new Error(_.MultiSelectTreeMessages.valueDepth);if((g.isArray(this.valueField)||g.isArray(this.textField))&&this.valueDepth.length!==this.value.length)throw new Error(_.MultiSelectTreeMessages.valueDepthLength)}}},e.prototype.emitValueChange=function(e){this.onChangeCallback(e),this.valueChange.emit(e)},e.prototype.triggerPopupEvents=function(e){var t=new m.PreventableEvent;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()},e.prototype.createPopup=function(){var e=this,t="rtl"===this.direction?"right":"left",i={horizontal:t,vertical:"bottom"},n={horizontal:t,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.wrapper,appendTo:this.appendTo,anchorAlign:i,content:this.popupTemplate,popupAlign:n,positionMode:"absolute",popupClass:this.popupContainerClasses});var o=this.popupRef.popupElement,a=this.width,r=a.min,s=a.max;o.style.minWidth=r,o.style.width=s,o.style.height=this.height,this.renderer.setAttribute(o,"dir",this.direction),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.opened.emit()})),this.popupRef.popupClose.subscribe((function(){e.closed.emit()}))},e.prototype.destroyPopup=function(){var e=this;this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),""!==this.filter&&(this.filter="",this.allNodesHidden=!1,r.hasObservers(this.filterChange)&&this._zone.run((function(){e.filterChange.emit("")}))))},e.prototype.subscribeEvents=function(){var e=this;this.subscriptions.push(this.navigationService.open.subscribe((function(){return e.togglePopup(!0)})),this.navigationService.enter.pipe(D.tap((function(e){return e.originalEvent.preventDefault()}))).subscribe((function(){return e.togglePopup(!0)})),w.merge(this.navigationService.close,this.navigationService.esc).subscribe((function(){e.focus(),e.togglePopup(!1)})),this.navigationService.tab.subscribe(this.handleTabKey.bind(this)),this.navigationService.up.subscribe(this.handleUpKey.bind(this)),this.navigationService.down.subscribe(this.handleDownKey.bind(this)),this.navigationService.left.pipe(D.filter((function(){return!e.isTreeViewActive}))).subscribe("rtl"===this.direction?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.pipe(D.filter((function(){return!e.isTreeViewActive}))).subscribe("rtl"===this.direction?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.home.pipe(D.filter((function(){return!e.isOpen}))).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(D.filter((function(){return!e.isOpen}))).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(D.filter((function(){return e.isTagFocused}))).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(D.filter((function(){return e.isTagFocused}))).subscribe(this.handleDelete.bind(this)))},e.prototype.handleTabKey=function(){this.focus(),this.isOpen&&(this.treeview.blur(),this.removeTreeViewFromTabOrder())},e.prototype.handleUpKey=function(e){if(this.treeview&&(e.originalEvent.preventDefault(),!this.isWrapperActive)){var t="0"===this.treeview.navigationService.activeIndex;if(this.filterable){var i=this.filterInput.nativeElement===document.activeElement;i?this.focus():!i&&t&&this.filterInput.nativeElement.focus()}!this.filterable&&t&&this.focus()}},e.prototype.handleDownKey=function(e){this.treeview&&(e.originalEvent.preventDefault(),this.filterable&&this.isWrapperActive?this.filterInput.nativeElement.focus():this.treeview.isActive||this.treeview.focus(),this.focusedTagIndex=void 0)},e.prototype.handleRightKey=function(e){e.originalEvent.preventDefault();var t=this.tags.length-1;this.focusedTagIndex===t?this.focusedTagIndex=void 0:this.focusedTagIndex<t?this.focusedTagIndex++:this.focusedTagIndex||(this.focusedTagIndex=0)},e.prototype.handleLeftKey=function(e){e.originalEvent.preventDefault(),void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--},e.prototype.handleEnd=function(e){e.originalEvent.preventDefault(),this.focusedTagIndex=this.tags.length-1},e.prototype.handleHome=function(e){e.originalEvent.preventDefault(),this.focusedTagIndex=0},e.prototype.handleBackspace=function(){if(void 0!==this.focusedTagIndex)this.handleDelete();else{var e=this.tags[this.tags.length-1],t=this.tags.length-1;this.handleRemoveTag({tag:e,index:t})}},e.prototype.handleDelete=function(){var e=this.tags[this.focusedTagIndex],t=this.focusedTagIndex;this.handleRemoveTag({tag:e,index:t}),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)},e.prototype.unsubscribeEvents=function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))},e.prototype.removeTreeViewFromTabOrder=function(){var e=this;this.treeview.element.nativeElement.querySelectorAll("li").forEach((function(t){"0"===t.getAttribute("tabindex")&&(e.lastNodeOnFocus=t,e.lastNodeOnFocus.setAttribute("tabindex","-1"))}))},e.prototype.setState=function(){g.isPresent(this.dataItems)&&g.isPresent(this.valueField)&&(this.setTags(),this.checkedItems=this.dataItems.slice()),this.cdr.markForCheck()},e.prototype.setTags=function(){var e=this.dataItems.map((function(e){return e.dataItem}));this.tags=this.tagMapper(e),this.disabledIndices=this.disabledItemsMapper()},e.prototype.updateValue=function(e){var t=this,i=this.valuePrimitive?e.map((function(e){return g.valueFrom(e,t.valueField)})):e.map((function(e){return e.dataItem}));this.value=i,this.emitValueChange(this.value)},e.prototype.disabledItemsMapper=function(){var e=this;return new Set(this.dataItems.reduce((function(t,i,n){return e.itemDisabled(i.dataItem,i.index)&&t.push(n),t}),[]))},n.__decorate([o.HostBinding("class.k-widget"),o.HostBinding("class.k-dropdowntree"),n.__metadata("design:type",Boolean)],e.prototype,"hostClasses",void 0),n.__decorate([o.HostBinding("attr.dir"),n.__metadata("design:type",String)],e.prototype,"direction",void 0),n.__decorate([o.ContentChild(b.HeaderTemplateDirective,{static:!1}),n.__metadata("design:type",b.HeaderTemplateDirective)],e.prototype,"headerTemplate",void 0),n.__decorate([o.ContentChild(y.FooterTemplateDirective,{static:!1}),n.__metadata("design:type",y.FooterTemplateDirective)],e.prototype,"footerTemplate",void 0),n.__decorate([o.ContentChild(S.NodeTemplateDirective,{static:!1}),n.__metadata("design:type",S.NodeTemplateDirective)],e.prototype,"nodeTemplate",void 0),n.__decorate([o.ContentChild(C.NoDataTemplateDirective,{static:!1}),n.__metadata("design:type",C.NoDataTemplateDirective)],e.prototype,"noDataTemplate",void 0),n.__decorate([o.ContentChild(x.TagTemplateDirective,{static:!1}),n.__metadata("design:type",x.TagTemplateDirective)],e.prototype,"tagTemplate",void 0),n.__decorate([o.ContentChild(I.GroupTagTemplateDirective,{static:!1}),n.__metadata("design:type",I.GroupTagTemplateDirective)],e.prototype,"groupTagTemplate",void 0),n.__decorate([o.ViewChild("popupTemplate",{static:!0}),n.__metadata("design:type",o.TemplateRef)],e.prototype,"popupTemplate",void 0),n.__decorate([o.ViewChild("wrapper",{static:!0}),n.__metadata("design:type",o.ElementRef)],e.prototype,"wrapper",void 0),n.__decorate([o.ViewChild("container",{read:o.ViewContainerRef,static:!0}),n.__metadata("design:type",o.ViewContainerRef)],e.prototype,"container",void 0),n.__decorate([o.ViewChild("treeview",{static:!1}),n.__metadata("design:type",d.TreeViewComponent),n.__metadata("design:paramtypes",[d.TreeViewComponent])],e.prototype,"treeview",null),n.__decorate([o.ViewChild("filterInput",{static:!1}),n.__metadata("design:type",o.ElementRef)],e.prototype,"filterInput",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number),n.__metadata("design:paramtypes",[Number])],e.prototype,"tabindex",null),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"popupSettings",null),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"checkableSettings",null),n.__decorate([o.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"data",null),n.__decorate([o.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"value",null),n.__decorate([o.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"dataItems",null),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"textField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"valueField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Array)],e.prototype,"valueDepth",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"loading",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"placeholder",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"listHeight",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"readonly",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"valuePrimitive",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"loadOnDemand",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"focusableId",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"clearButton",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"filterable",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],e.prototype,"hasChildren",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],e.prototype,"fetchChildren",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],e.prototype,"isNodeExpanded",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],e.prototype,"isNodeVisible",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],e.prototype,"itemDisabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"tagMapper",void 0),n.__decorate([o.Output("focus"),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onFocus",void 0),n.__decorate([o.Output("blur"),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onBlur",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"open",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"opened",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"close",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"closed",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"nodeExpand",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"nodeCollapse",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"valueChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"removeTag",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"filterChange",void 0),e=t=n.__decorate([o.Component({exportAs:"kendoMultiSelectTree",providers:[s.LocalizationService,p.NavigationService,u.DataService,c.DisabledItemsService,h.SelectionService,{provide:s.L10N_PREFIX,useValue:"kendo.multiselecttree"},{multi:!0,provide:a.NG_VALUE_ACCESSOR,useExisting:o.forwardRef((function(){return t}))},{provide:d.DataBoundComponent,useExisting:o.forwardRef((function(){return t}))},{provide:d.ExpandableComponent,useExisting:o.forwardRef((function(){return t}))},{provide:r.KendoInput,useExisting:o.forwardRef((function(){return t}))}],selector:"kendo-multiselecttree",template:'\n        <ng-container kendoMultiSelectTreeLocalizedMessages\n            i18n-noDataText="kendo.multiselecttree.noDataText|The text displayed in the popup when there are no items"\n            noDataText="NO DATA FOUND"\n\n            i18n-clearTitle="kendo.multiselecttree.clearTitle|The title of the clear button"\n            clearTitle="clear"\n        >\n        </ng-container>\n        <div #wrapper\n            [ngClass]="{\n                \'k-multiselect-wrap\': true,\n                \'k-floatwrap\': true,\n                \'k-state-disabled\': this.disabled\n            }"\n            role="listbox"\n            aria-haspopup="tree"\n            [attr.aria-describedby]="tagListId"\n            [attr.aria-readonly]="readonly"\n            [attr.aria-activedescendant]="focusedTagId"\n            [attr.tabindex]="tabindex"\n            [attr.id]="focusableId"\n            [attr.dir]="direction"\n            (click)="handleClick()"\n            (keydown)="handleKeydown($event)"\n            [kendoEventsOutsideAngular]="{\n                focus: handleFocus,\n                blur: handleBlur\n            }"\n            [scope]="this"\n        >\n            <kendo-taglist\n                [id]="tagListId"\n                [tags]="tags"\n                [focused]="focusedTagIndex"\n                [textField]="textField"\n                [valueField]="valueField"\n                [valueDepth]="valueDepth"\n                [disabled]="disabled"\n                [tagPrefix]="tagPrefix"\n                [template]="tagTemplate"\n                [groupTemplate]="groupTagTemplate"\n                [disabledIndices]="disabledIndices"\n                (removeTag)="handleRemoveTag($event)"\n            >\n            </kendo-taglist>\n            <span *ngIf="!tags || !tags.length"\n                class="k-input k-readonly"\n            >\n                {{ placeholder }}\n            </span>\n            <span\n                *ngIf="!disabled && !loading && !readonly && clearButton && tags?.length"\n                class="k-icon k-clear-value k-i-close"\n                [attr.title]="messageFor(\'clearTitle\')"\n                role="button"\n                tabindex="-1"\n                (click)="clearAll($event)"\n            >\n            </span>\n            <span\n                *ngIf="loading"\n                class="k-icon k-i-loading"\n            >\n            </span>\n        </div>\n        <ng-template #popupTemplate>\n            <span\n                *ngIf="filterable"\n                class="k-list-filter"\n            >\n                <input\n                    #filterInput\n                    (input)="handleFilterInputChange($event.target.value)"\n                    [filterInput]="filterable && !touchEnabled"\n                    (keydown.arrowdown)="handleKeydown($event)"\n                    (keydown.arrowup)="handleKeydown($event)"\n                    (keydown.alt.arrowup)="handleKeydown($event)"\n                    [(ngModel)]="filter"\n                    class="k-textbox"\n                    role="textbox"\n                    aria-haspopup="true"\n                    aria-expanded="false"\n                    tabindex="0"\n                    aria-disabled="false"\n                    aria-readonly="false"\n                    [kendoEventsOutsideAngular]="{\n                        blur: handleBlur\n                    }"\n                    [scope]="this"\n                >\n                <span class="k-icon k-i-zoom"></span>\n            </span>\n            \x3c!--header template--\x3e\n            <ng-template\n                *ngIf="headerTemplate"\n                [templateContext]="{\n                    templateRef: headerTemplate?.templateRef\n                }">\n            </ng-template>\n            <kendo-treeview\n                #treeview\n                [nodes]="data"\n                [style.maxHeight.px]="listHeight"\n                [animate]="false"\n                kendoMultiSelectTreeCheckable\n                [checkable]="checkableSettings"\n                [checkedItems]="checkedItems"\n                [valueField]="valueField"\n                [textField]="textField"\n                [children]="children"\n                [hasChildren]="hasChildren"\n                [isExpanded]="isNodeExpanded"\n                [isDisabled]="itemDisabled"\n                [nodeTemplate]="nodeTemplate"\n                [loadOnDemand]="loadOnDemand"\n                [filter]="filter"\n                [isVisible]="isNodeVisible"\n                (keydown)="handleKeydown($event)"\n                (nodeClick)="handleNodeClick($event)"\n                (expand)="nodeExpand.emit($event)"\n                (collapse)="nodeCollapse.emit($event)"\n                (checkedItemsChange)="handleCheckedItemsChange($event)"\n                [kendoEventsOutsideAngular]="{\n                    focusout: handleBlur\n                }"\n                [scope]="this"\n            >\n            </kendo-treeview>\n            \x3c!--footer template--\x3e\n            <ng-template\n                *ngIf="footerTemplate"\n                [templateContext]="{\n                    templateRef: footerTemplate?.templateRef\n                }">\n            </ng-template>\n            \x3c!--no-data template--\x3e\n            <div class="k-nodata" *ngIf="data?.length === 0 || allNodesHidden">\n                <ng-template [ngIf]="noDataTemplate"\n                    [templateContext]="{\n                        templateRef: noDataTemplate?.templateRef\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!noDataTemplate">\n                    <div>{{ messageFor(\'noDataText\') }}</div>\n                </ng-template>\n            </div>\n        </ng-template>\n        <ng-container #container></ng-container>\n    '}),n.__param(7,o.Optional()),n.__param(7,o.Inject(T.TOUCH_ENABLED)),n.__metadata("design:paramtypes",[l.PopupService,o.Renderer2,o.ElementRef,p.NavigationService,o.NgZone,s.LocalizationService,o.ChangeDetectorRef,Boolean])],e)}();t.MultiSelectTreeComponent=M},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(3),r=i(11),s=i(30),p=i(31),l=i(32),d=i(16),u=i(12),c=i(13),h=i(17),m=i(18),v=i(5),g=i(19),f=i(6),_=i(14),b=i(2),y=i(23),S=i(20),C=i(15),x=i(4),I=i(8),T=i(24),w=i(7),D=i(25),E=i(33),k=i(9);t.AUTOCOMPLETE_VALUE_ACCESSOR={multi:!0,provide:r.NG_VALUE_ACCESSOR,useExisting:o.forwardRef((function(){return O}))};var O=function(){function e(e,t,i,n,a,r,l,d,u,c,h){this.localization=e,this.dataService=t,this.popupService=i,this.selectionService=n,this.navigationService=a,this.disabledItemsService=r,this._zone=l,this.cdr=d,this.renderer=u,this.hostElement=c,this.touchEnabled=h,this.highlightFirst=!0,this.focusableId="k-"+b.guid(),this.placeholder="",this.listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new o.EventEmitter,this.filterChange=new o.EventEmitter,this.open=new o.EventEmitter,this.opened=new o.EventEmitter,this.close=new o.EventEmitter,this.closed=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.onBlur=new o.EventEmitter,this.widgetClasses=!0,this.listBoxId=b.guid(),this.optionPrefix=b.guid(),this.onChangeCallback=b.noop,this.onTouchedCallback=b.noop,this.popupMouseDownHandler=function(e){return e.preventDefault()},this._popupSettings={animate:!0},this._open=!1,this._value="",this.valueChangeSubject=new _.Subject,this._isFocused=!1,s.validatePackage(p.packageMetadata),this.direction=e.rtl?"rtl":"ltr",this.wrapper=this.hostElement.nativeElement,this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.selectionService.resetSelection([-1])}var i;return i=e,Object.defineProperty(e.prototype,"width",{get:function(){var e=0;a.isDocumentAvailable()&&(e=this.wrapper.offsetWidth);var t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var e=this.popupSettings.height;return b.isPresent(e)?e+"px":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listContainerClasses",{get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"suggestion",{get:function(){if(this.text&&this.suggestedText){var e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&e?this.suggestedText:void 0}this.suggestedText=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appendTo",{get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearButtonVisiblity",{get:function(){if(this.touchEnabled)return"visible"},enumerable:!0,configurable:!0}),e.prototype.toggle=function(e){var t=this;Promise.resolve(null).then((function(){var i=b.isPresent(e)?e:!t._open;t._toggle(i)}))},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._open},enumerable:!0,configurable:!0}),e.prototype.togglePopup=function(e){var t=this.disabled||this.readonly,i=this.isOpen===e;t||i||(this.triggerPopupEvents(e)||this._toggle(e))},Object.defineProperty(e.prototype,"activeDescendant",{get:function(){if(!this.isOpen||!b.isPresent(this.selectionService.focused)||-1===this.selectionService.focused)return null;var e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+b.getter(e,this.valueField)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noDataLabel",{get:function(){if(0===this.data.length)return this.noDataText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearTitle",{get:function(){return this.localization.get("clearTitle")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=this.virtual;if(e){var t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data},set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=b.getter(this.dataService.itemAt(0),this.valueField))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value||""},set:function(e){this.verifySettings(e),this._value=e||"",this.text=this.value,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(e){this._popupSettings=Object.assign({animate:!0},e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemDisabled",{set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received "+JSON.stringify(e)+".");this.disabledItemsService.itemDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(e){this.tabindex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtualSettings},set:function(e){this._virtualSettings=E.normalizeVirtualizationSettings(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.renderer[e?"addClass":"removeClass"](this.wrapper,"k-state-focused"),this._isFocused=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.renderer.removeAttribute(this.wrapper,"tabindex"),this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var i=t.rtl;e.direction=i?"rtl":"ltr",e.setMessages()})),this.setMessages()},e.prototype.ngOnDestroy=function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()},e.prototype.ngOnChanges=function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize})},e.prototype.reset=function(){this.value=""},e.prototype.clearValue=function(e){e.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.focusItemAt=function(e){var t=e>=0&&e<this.data.length;b.isPresent(e)&&t&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(-1)},e.prototype.focus=function(){this.disabled||this.searchbar.focus()},e.prototype.blur=function(){this.disabled||this.searchbar.blur()},e.prototype.onResize=function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,i=t.min,n=t.max;e.style.minWidth=i,e.style.width=n}},e.prototype.emitChange=function(e){this.onChangeCallback(e),this.valueChange.emit(e)},e.prototype.verifySettings=function(e){if(o.isDevMode()&&b.isPresent(e)&&"string"!=typeof e)throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")},e.prototype.search=function(e,t){var i;void 0===t&&(t=0),i=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),t):-1,this.disabledItemsService.isIndexDisabled(i)?i+1<this.dataService.itemsCount?this.search(e,i+1):this.selectionService.focus(-1):(this.selectionService.focus(i),this.suggest&&(this.suggestedText=b.getter(this.dataService.itemAt(i),this.valueField)))},e.prototype.navigate=function(e){this.isOpen&&this.selectionService.focus(e)},e.prototype.handleNavigate=function(e){var t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(!(this.disabled||this.readonly||isNaN(t))){var i=this.navigationService.process({current:t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});i!==y.NavigationAction.Undefined&&i!==y.NavigationAction.Backspace&&i!==y.NavigationAction.Delete&&i!==y.NavigationAction.Home&&i!==y.NavigationAction.End&&i!==y.NavigationAction.Left&&i!==y.NavigationAction.Right&&(i===y.NavigationAction.Enter&&this.isOpen||i!==y.NavigationAction.Enter)&&e.preventDefault()}},e.prototype.handleEnter=function(e){var t,i=this.selectionService.focused;if(this.isOpen&&e.originalEvent.preventDefault(),i>=0)t=b.getter(this.dataService.itemAt(i),this.valueField);else{var n=this.suggest&&this.suggestedText&&this.data.length&&b.getter(this.dataService.itemAt(0),this.valueField).toLowerCase()===this.searchbar.value.toLowerCase();t=this.isOpen&&n?this.suggestedText:this.searchbar.value}this.change(t)},e.prototype.handleEscape=function(){this.togglePopup(!1),this.selectionService.focused=-1,this.suggestedText=null},e.prototype.searchBarChange=function(e){var t=b.isPresent(this.text)?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.togglePopup(e.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)},e.prototype.handleFocus=function(){var e=this;this.isFocused=!0,a.hasObservers(this.onFocus)&&this._zone.run((function(){e.onFocus.emit()}))},e.prototype.handleBlur=function(){var e,t,i=this,n=this.filterable?this.selectionService.focused:-1;this.searchbar.input.nativeElement.scrollLeft=0,-1!==n?(e=this.dataService.itemAt(n),t=b.getter(e,this.valueField)||""):t=this.searchbar.value;var o=t===this.searchbar.value,r=t.toLowerCase()===this.searchbar.value.toLowerCase();!o&&r&&this.selectionService.resetSelection([]),this.isFocused=!1;var s=this.value!==this.text;a.hasObservers(this.onBlur)||a.hasObservers(this.close)||b.isUntouched(this.wrapper)||s?this._zone.run((function(){s&&i.change(i.searchbar.value),i.onBlur.emit(),i.onTouchedCallback(),i.togglePopup(!1)})):this.togglePopup(!1)},e.prototype.pageChange=function(e){this.virtual.skip=e.skip},e.prototype.change=function(e){this.togglePopup(!1),this.valueChangeSubject.next(e)},e.prototype.subscribeEvents=function(){var e=this;a.isDocumentAvailable()&&(this.valueChangeSubscription=this.valueChangeSubject.subscribe((function(t){var i=e.value!==t;e.value=t,e.text=t,i&&e.emitChange(t)})),this.changeSubscription=this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.focusSubscription=this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this)),this.navigationSubscription=_.merge(this.navigationService.up,this.navigationService.down).subscribe((function(t){return e.navigate(t.index)})),this.closeSubscription=this.navigationService.close.subscribe((function(){return e.togglePopup(!1)})),this.enterSubscription=this.navigationService.enter.subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)))},e.prototype.subscribeTouchEvents=function(){var e=this;a.isDocumentAvailable()&&this.touchEnabled&&this._zone.runOutsideAngular((function(){return e.touchstartDisposeHandler=e.renderer.listen(document,"touchstart",(function(t){var i=t.target;e.isFocused&&!b.inDropDown(e.hostElement,i,e.popupRef)&&e._zone.run((function(){return e.blur()}))}))}))},e.prototype.unsubscribeEvents=function(){a.isDocumentAvailable()&&(this.changeSubscription.unsubscribe(),this.navigationSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.valueChangeSubscription.unsubscribe(),this.focusSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler())},e.prototype.handleItemChange=function(e){var t=e.indices.length?e.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),b.isPresent(t)){var i=b.getter(this.dataService.itemAt(t),this.valueField);this.change(i)}},e.prototype.handleItemFocus=function(e){var t=this.selectionService.focused;Boolean(this.suggest&&this.data&&this.data.length&&t>=0)&&(this.suggestedText=b.getter(this.dataService.itemAt(t),this.valueField))},e.prototype.createPopup=function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left",i={horizontal:t,vertical:"bottom"},n={horizontal:t,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:n,anchorAlign:i});var o=this.popupRef.popupElement,a=this.width,r=a.min,s=a.max;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=r,o.style.width=s,o.style.height=this.height,o.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused),e.opened.emit()})),this.popupRef.popupClose.subscribe((function(){e.closed.emit()})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))},e.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)},e.prototype._toggle=function(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()},e.prototype.triggerPopupEvents=function(e){var t=new C.PreventableEvent;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()},e.prototype.firstFocusableIndex=function(e){var t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e},e.prototype.findIndexPredicate=function(e){var t=this;return this.dataService.grouped?function(i){var n=b.getter(i.value,t.valueField);return(n=b.isPresent(n)?n.toString().toLowerCase():"").startsWith(e.toLowerCase())}:function(i){var n=b.getter(i,t.valueField);return(n=b.isPresent(n)?n.toString().toLowerCase():"").startsWith(e.toLowerCase())}},e.prototype.setMessages=function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))},n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"highlightFirst",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"focusableId",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"data",null),n.__decorate([o.Input(),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[String])],e.prototype,"value",null),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"valueField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"placeholder",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"popupSettings",null),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"listHeight",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"loading",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"clearButton",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"suggest",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"itemDisabled",null),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"readonly",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"tabindex",void 0),n.__decorate([o.Input("tabIndex"),n.__metadata("design:type",Number),n.__metadata("design:paramtypes",[Number])],e.prototype,"tabIndex",null),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"filterable",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"virtual",null),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"valueChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"filterChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"open",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"opened",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"close",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"closed",void 0),n.__decorate([o.Output("focus"),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onFocus",void 0),n.__decorate([o.Output("blur"),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onBlur",void 0),n.__decorate([o.ContentChild(d.ItemTemplateDirective,{static:!1}),n.__metadata("design:type",d.ItemTemplateDirective)],e.prototype,"template",void 0),n.__decorate([o.ContentChild(u.HeaderTemplateDirective,{static:!1}),n.__metadata("design:type",u.HeaderTemplateDirective)],e.prototype,"headerTemplate",void 0),n.__decorate([o.ContentChild(c.FooterTemplateDirective,{static:!1}),n.__metadata("design:type",c.FooterTemplateDirective)],e.prototype,"footerTemplate",void 0),n.__decorate([o.ContentChild(S.NoDataTemplateDirective,{static:!1}),n.__metadata("design:type",S.NoDataTemplateDirective)],e.prototype,"noDataTemplate",void 0),n.__decorate([o.ContentChild(h.GroupTemplateDirective,{static:!1}),n.__metadata("design:type",h.GroupTemplateDirective)],e.prototype,"groupTemplate",void 0),n.__decorate([o.ContentChild(m.FixedGroupTemplateDirective,{static:!1}),n.__metadata("design:type",m.FixedGroupTemplateDirective)],e.prototype,"fixedGroupTemplate",void 0),n.__decorate([o.ViewChild("container",{read:o.ViewContainerRef,static:!0}),n.__metadata("design:type",o.ViewContainerRef)],e.prototype,"container",void 0),n.__decorate([o.ViewChild("popupTemplate",{static:!0}),n.__metadata("design:type",o.TemplateRef)],e.prototype,"popupTemplate",void 0),n.__decorate([o.ViewChild(l.SearchBarComponent,{static:!0}),n.__metadata("design:type",l.SearchBarComponent)],e.prototype,"searchbar",void 0),n.__decorate([o.ViewChild("optionsList",{static:!1}),n.__metadata("design:type",D.ListComponent)],e.prototype,"optionsList",void 0),n.__decorate([o.HostBinding("class.k-widget"),o.HostBinding("class.k-autocomplete"),n.__metadata("design:type",Boolean)],e.prototype,"widgetClasses",void 0),n.__decorate([o.HostBinding("class.k-state-disabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],e.prototype,"isDisabled",null),n.__decorate([o.HostBinding("attr.dir"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],e.prototype,"dir",null),e=i=n.__decorate([o.Component({exportAs:"kendoAutoComplete",providers:[t.AUTOCOMPLETE_VALUE_ACCESSOR,w.DataService,v.SelectionService,g.NavigationService,f.DisabledItemsService,x.LocalizationService,{provide:x.L10N_PREFIX,useValue:"kendo.autocomplete"},{provide:T.FilterableComponent,useExisting:o.forwardRef((function(){return i}))},{provide:a.KendoInput,useExisting:o.forwardRef((function(){return i}))}],selector:"kendo-autocomplete",template:'\n        <ng-container kendoAutoCompleteLocalizedMessages\n            i18n-noDataText="kendo.autocomplete.noDataText|The text displayed in the popup when there are no items"\n            noDataText="NO DATA FOUND"\n\n            i18n-clearTitle="kendo.autocomplete.clearTitle|The title of the clear button"\n            clearTitle="clear"\n        >\n        </ng-container>\n        <kendo-searchbar #searchbar\n            [role]="\'combobox\'"\n            [id]="focusableId"\n            [listId]="listBoxId"\n            [activeDescendant]="activeDescendant"\n            [noDataLabel]="noDataLabel"\n            [userInput]="text"\n            [suggestedText]="suggestion"\n            [disabled]="disabled"\n            [readonly]="readonly"\n            [tabIndex]="tabIndex"\n            [popupOpen]="isOpen"\n            [placeholder]="placeholder"\n            (onNavigate)="handleNavigate($event)"\n            (valueChange)="searchBarChange($event)"\n            (onBlur)="handleBlur()"\n            (onFocus)="handleFocus()"\n        ></kendo-searchbar>\n        <span\n            *ngIf="!loading && !readonly && (clearButton && text?.length)"\n            class="k-icon k-clear-value k-i-close"\n            [style.visibility]="clearButtonVisiblity"\n            [attr.title]="clearTitle"\n            role="button"\n            tabindex="-1"\n            (click)="clearValue($event)"\n            (mousedown)="$event.preventDefault()"\n        >\n</span>\n        <span *ngIf="loading" class="k-icon k-i-loading"></span>\n        <ng-template #popupTemplate>\n            \x3c!--header template--\x3e\n            <ng-template *ngIf="headerTemplate"\n                [templateContext]="{\n                    templateRef: headerTemplate.templateRef\n                }">\n            </ng-template>\n            \x3c!--list--\x3e\n            <kendo-list\n                #optionsList\n                [id]="listBoxId"\n                [optionPrefix]="optionPrefix"\n                [data]="data"\n                [textField]="valueField"\n                [valueField]="valueField"\n                [template]="template"\n                [groupTemplate]="groupTemplate"\n                [fixedGroupTemplate]="fixedGroupTemplate"\n                [height]="listHeight"\n                [show]="isOpen"\n                [virtual]="virtual"\n                (pageChange)="pageChange($event)"\n            >\n            </kendo-list>\n            \x3c!--no-data template--\x3e\n            <div class="k-nodata" *ngIf="data.length === 0">\n                <ng-template [ngIf]="noDataTemplate"\n                    [templateContext]="{\n                        templateRef: noDataTemplate?.templateRef\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!noDataTemplate">\n                    <div>{{ noDataText }}</div>\n                </ng-template>\n            </div>\n            \x3c!--footer template--\x3e\n            <ng-template *ngIf="footerTemplate"\n                [templateContext]="{\n                    templateRef: footerTemplate.templateRef\n                }">\n            </ng-template>\n        </ng-template>\n        <ng-template [ngIf]="isOpen">\n            <kendo-resize-sensor (resize)="onResize()"></kendo-resize-sensor>\n        </ng-template>\n        <ng-container #container></ng-container>\n  '}),n.__param(10,o.Optional()),n.__param(10,o.Inject(k.TOUCH_ENABLED)),n.__metadata("design:paramtypes",[x.LocalizationService,w.DataService,I.PopupService,v.SelectionService,g.NavigationService,f.DisabledItemsService,o.NgZone,o.ChangeDetectorRef,o.Renderer2,o.ElementRef,Boolean])],e)}();t.AutoCompleteComponent=O},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.element=e}return e=n.__decorate([o.Directive({selector:'"li[role=option], li[role=group]"'}),n.__metadata("design:paramtypes",[o.ElementRef])],e)}();t.ListItemDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(11),r=i(30),s=i(31),p=i(14),l=i(21),d=i(3),u=i(3),c=i(2),h=i(5),m=i(19),v=i(16),g=i(17),f=i(18),_=i(34),b=i(12),y=i(13),S=i(20),C=i(23),x=i(15),I=i(4),T=i(8),w=i(9),D=i(26),E=i(6),k=i(7),O=i(24),P=i(25),F=i(33);t.DROPDOWNLIST_VALUE_ACCESSOR={multi:!0,provide:a.NG_VALUE_ACCESSOR,useExisting:o.forwardRef((function(){return A}))};var A=function(){function e(e,t,i,n,a,l,d,u,h,m,v){this.localization=e,this.popupService=t,this.selectionService=i,this.navigationService=n,this.disabledItemsService=a,this.dataService=l,this._zone=d,this.renderer=u,this.hostElement=h,this.cdr=m,this.touchEnabled=v,this.focusableId="k-"+c.guid(),this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new o.EventEmitter,this.filterChange=new o.EventEmitter,this.selectionChange=new o.EventEmitter,this.open=new o.EventEmitter,this.opened=new o.EventEmitter,this.close=new o.EventEmitter,this.closed=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.onBlur=new o.EventEmitter,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=c.guid(),this.optionPrefix=c.guid(),this.filterText="",this._isFocused=!1,this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.word="",this.last="",this.filterFocused=new o.EventEmitter,this.filterBlurred=new o.EventEmitter,this.wrapperFocused=new o.EventEmitter,this.wrapperBlurred=new o.EventEmitter,this.selectionSubscription=new p.Subscription,this._open=!1,this._popupSettings={animate:!0},r.validatePackage(s.packageMetadata),this.direction=e.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}var i;return i=e,Object.defineProperty(e.prototype,"width",{get:function(){var e=d.isDocumentAvailable()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var e=this.popupSettings.height;return c.isPresent(e)?e+"px":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetTabIndex",{get:function(){if(!this.disabled){var e=Number(this.tabIndex);return isNaN(e)?0:e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaExpanded",{get:function(){return this.isOpen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaOwns",{get:function(){if(this.isOpen)return this.listBoxId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaActivedescendant",{get:function(){if(c.isPresent(this.dataItem))return this.optionPrefix+"-"+c.getter(this.dataItem,this.valueField)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noDataLabel",{get:function(){if(0===this.dataService.itemsCount)return this.noDataText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appendTo",{get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=this.virtual;if(e){var t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data},set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){c.isPresent(e)||(this._previousDataItem=void 0),this._value=e,this.setState(),this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(e){this._popupSettings=Object.assign({animate:!0},e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemDisabled",{set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received "+JSON.stringify(e)+".");this.disabledItemsService.itemDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtualSettings},set:function(e){this._virtualSettings=F.normalizeVirtualizationSettings(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valuePrimitive",{get:function(){return c.isPresent(this._valuePrimitive)?this._valuePrimitive:!c.isPresent(this.valueField)},set:function(e){this._valuePrimitive=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this.tabindex},set:function(e){this.tabindex=e},enumerable:!0,configurable:!0}),e.prototype.blurComponent=function(){this.wrapperBlurred.emit()},e.prototype.blurFilterInput=function(){this.filterBlurred.emit()},e.prototype.focusComponent=function(){var e=this;this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,d.hasObservers(this.onFocus)&&this._zone.run((function(){e.onFocus.emit()})))},e.prototype.keydown=function(e){var t=c.isPresent(this.defaultItem)?-1:0,i=isNaN(this.selectionService.focused)?this.firstFocusableIndex(t):this.selectionService.focused,n=0;if(!this.disabled&&!this.readonly){var o=e.keyCode===u.Keys.Home||e.keyCode===u.Keys.End;if(!(this.filterable&&this.isFocused&&this.isOpen)||!o){var a=c.isPresent(this.selectionService.selected[0]),r=c.isPresent(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);a&&!r||(e.keyCode===u.Keys.ArrowDown||e.keyCode===u.Keys.ArrowRight?n=-1:e.keyCode!==u.Keys.ArrowUp&&e.keyCode!==u.Keys.ArrowLeft||(n=1));var s=e,p=this.navigationService.process({current:i+n,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:s}),l=p===C.NavigationAction.Left||p===C.NavigationAction.Right;p===C.NavigationAction.Undefined||p===C.NavigationAction.Tab||p===C.NavigationAction.Backspace||p===C.NavigationAction.Delete||l&&this.filterable||p===C.NavigationAction.Enter||s.preventDefault()}}},e.prototype.keypress=function(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)},e.prototype.click=function(e){e.preventDefault(),this.focus(),this.togglePopup(!this.isOpen)},e.prototype.onResize=function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,i=t.min,n=t.max;e.style.minWidth=i,e.style.width=n}},Object.defineProperty(e.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe((function(t){var i=t.rtl;e.direction=i?"rtl":"ltr",e.setMessages()})),this.setMessages(),this.assignAriaDescribedBy()},e.prototype.isEmpty=function(){var e=this.value;return!(0===e||!1===e||e||this.defaultItem)},e.prototype.onFilterFocus=function(){this.filterFocused.emit()},e.prototype.ngOnDestroy=function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()},e.prototype.ngOnChanges=function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),d.isChanged("defaultItem",e,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),d.anyChanged(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],e,!1)&&this.setState()},e.prototype.ngAfterContentChecked=function(){this.verifySettings()},e.prototype.focusItemAt=function(e){var t=(c.isPresent(this.defaultItem)?-1:0)<=e&&e<this.data.length;c.isPresent(e)&&t&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(null)},e.prototype.focus=function(){this.disabled||this.wrapper.nativeElement.focus()},e.prototype.blur=function(){this.disabled||this.wrapper.nativeElement.blur()},e.prototype.toggle=function(e){var t=this;Promise.resolve(null).then((function(){var i=c.isPresent(e)?e:!t._open;t._toggle(i)}))},e.prototype._toggle=function(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()},e.prototype.triggerPopupEvents=function(e){var t=new x.PreventableEvent;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()},e.prototype.togglePopup=function(e){var t=this.disabled||this.readonly,i=this.isOpen===e;t||i||(this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e)))},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._open},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.value=void 0},e.prototype.writeValue=function(e){this.value=null===e?void 0:e},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e},Object.defineProperty(e.prototype,"buttonClasses",{get:function(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listContainerClasses",{get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabledDefaultItem",{get:function(){return this.disabledItemsService.isItemDisabled(this.defaultItem)},enumerable:!0,configurable:!0}),e.prototype.getText=function(){return this.text},e.prototype.getDefaultItemText=function(){return c.getter(this.defaultItem,this.textField)},e.prototype.createPopup=function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left",i={horizontal:t,vertical:"bottom"},n={horizontal:t,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:i,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:n,popupClass:this.listContainerClasses,positionMode:"absolute"});var o=this.popupRef.popupElement,a=this.width,r=a.min,s=a.max;o.addEventListener("mousedown",this.popupMouseDownHandler),o.style.minWidth=r,o.style.width=s,o.style.height=this.height,o.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused),e.opened.emit()})),this.popupRef.popupClose.subscribe((function(){e.closed.emit()})),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))},e.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)},e.prototype.updateState=function(e){var t=e.dataItem,i=e.confirm,n=void 0!==i&&i;this.dataItem=t,this.text=c.getter(t,this.textField),n&&(this._previousDataItem=t)},e.prototype.clearState=function(){this.text=void 0,this.dataItem=void 0},e.prototype.resetSelection=function(e){var t=!c.isPresent(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e},e.prototype.onSelectionChange=function(e){var t=e.dataItem;this.updateState({dataItem:t}),this.selectionChange.emit(t),this.assignAriaDescribedBy()},e.prototype.subscribeEvents=function(){var e=this;d.isDocumentAvailable()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe(l.filter((function(t){return e.isOpen})),l.map(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add(p.merge(this.selectionService.onSelect.pipe(l.filter((function(t){return!e.isOpen}))),this.selectionService.onChange).pipe(l.map(this.itemFromEvent.bind(this)),l.tap((function(t){return e.togglePopup(!1)}))).subscribe((function(t){var i=t.dataItem,n=t.value;t.newSelection&&e.onSelectionChange({dataItem:i});var o=!c.isPresent(i)&&e._previousDataItem,a=n!==c.getter(e.value,e.valueField);o?(e.updateState({dataItem:e._previousDataItem}),e.resetSelection()):a&&(e.value=e.valuePrimitive?n:i,e._previousDataItem=i,e.emitChange(e.value)),e.clearFilter()}))),this.navigationSubscription=p.merge(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(l.skipWhile((function(){return e.filterable}))),this.navigationService.right.pipe(l.skipWhile((function(){return e.filterable}))),this.navigationService.home,this.navigationService.end).pipe(l.filter((function(e){return!isNaN(e.index)}))).subscribe((function(t){return e.selectionService.select(t.index)})),this.openSubscription=this.navigationService.open.subscribe((function(){return e.togglePopup(!0)})),this.closeSubscription=this.navigationService.close.subscribe((function(){e.togglePopup(!1),e.focus()})),this.enterSubscription=this.navigationService.enter.pipe(l.tap((function(e){return e.originalEvent.preventDefault()}))).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(l.concatMap((function(){return p.interval(10).pipe(l.take(1),l.takeUntil(e.wrapperFocused))}))).subscribe((function(){e.wrapperBlurred.emit()})),this._zone.runOutsideAngular((function(){e.componentBlurredSubscription=p.merge(e.wrapperBlurred.pipe(l.concatMap((function(){return p.interval(10).pipe(l.take(1),l.takeUntil(e.filterFocused))}))),e.navigationService.tab).pipe(l.tap((function(t){return t instanceof m.NavigationEvent&&e.focus()})),l.filter((function(){return e.isFocused}))).subscribe((function(){return e.componentBlur()}))})))},e.prototype.subscribeTouchEvents=function(){var e=this;d.isDocumentAvailable()&&this.touchEnabled&&this._zone.runOutsideAngular((function(){return e.touchstartDisposeHandler=e.renderer.listen(document,"touchstart",(function(t){var i=t.target;e.isFocused&&!c.inDropDown(e.hostElement,i,e.popupRef)&&e._zone.run((function(){e.filterFocused&&e.togglePopup(!1),e.blur()}))}))}))},e.prototype.unsubscribeEvents=function(){d.isDocumentAvailable()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())},e.prototype.itemFromEvent=function(e){var t=e.indices[0],i=this.dataService.itemAt(t);i=c.isPresent(i)?i:this.currentOrDefault(t);var n=c.getter(i,this.valueField);return{dataItem:i,index:t,newSelection:e.newSelection,value:n}},e.prototype.currentOrDefault=function(e){return c.isPresent(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem},e.prototype.firstFocusableIndex=function(e){var t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e},e.prototype.handleEnter=function(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)},e.prototype.handleEscape=function(){c.isPresent(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()},e.prototype.clearFilter=function(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))},e.prototype.verifySettings=function(){if(o.isDevMode()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error(D.DropDownListMessages.defaultItem);if(!0===this.valuePrimitive&&c.isPresent(this.value)&&"object"==typeof this.value)throw new Error(D.DropDownListMessages.primitive);if(!1===this.valuePrimitive&&c.isPresent(this.value)&&"object"!=typeof this.value)throw new Error(D.DropDownListMessages.object);if(!c.isPresent(this.valueField)!=!c.isPresent(this.textField))throw new Error(D.DropDownListMessages.textAndValue)}},e.prototype.componentBlur=function(){var e=this;this.isFocused=!1;var t=c.isPresent(this.selectionService.selected[0])&&c.getter(this.value,this.valueField)!==c.getter(this.dataService.itemAt(this.selectionService.selected[0]),this.valueField);t||d.hasObservers(this.close)||d.hasObservers(this.onBlur)||d.hasObservers(this.filterChange)||c.isUntouched(this.hostElement.nativeElement)?this._zone.run((function(){t&&e.selectionService.change(e.selectionService.selected[0]),e.togglePopup(!1),e.clearFilter(),e.onBlur.emit(),e.onTouchedCallback()})):this.togglePopup(!1)},e.prototype.onMouseDown=function(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()},e.prototype.onKeyPress=function(e){if(0!==e.which&&e.keyCode!==u.Keys.Enter){var t=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.word+=t,this.last=t,this.search()}},e.prototype.search=function(){var e=this;clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout((function(){e.word=""}),this.delay),this.selectNext())},e.prototype.selectNext=function(){var e,t,i,n=this,o=this.dataService.filter((function(e){return c.isPresent(e)&&!e.header&&!n.disabledItemsService.isItemDisabled(e)})).map((function(e){return n.dataService.grouped?{item:e.value,itemIndex:e.offsetIndex}:{item:e,itemIndex:n.dataService.indexOf(e)}})),a=c.sameCharsOnly(this.word,this.last),r=o.length,s=!isNaN(this.selectionService.selected[0]),p=s?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(i={item:this.defaultItem,itemIndex:-1},r+=1,p+=1),p+=a&&s?1:0,o=c.shuffleData(o,p,i),t=0;t<r;t++){e=c.getter(o[t].item,this.textField);var l=Boolean(a&&c.matchText(e,this.last,this.ignoreCase)),d=Boolean(c.matchText(e,this.word,this.ignoreCase));if(l||d){t=o[t].itemIndex;break}}t!==r&&this.navigate(t)},e.prototype.emitChange=function(e){this.onChangeCallback(e),this.valueChange.emit(e)},e.prototype.navigate=function(e){this.selectionService.select(e)},e.prototype.findDataItem=function(e){var t,i=e.valueField,n=e.value,o={dataItem:null,index:-1},a=function(e){return c.getter(e,i)};t=this.dataService.grouped?function(e){return a(e.value)===a(n)}:function(e){return a(e)===a(n)};var r=this.dataService.findIndex(t);return o.dataItem=this.dataService.itemAt(r),o.index=r,o},e.prototype.setState=function(){var e=this.value,t=this.valueField,i=this.textField,n=this.valuePrimitive;if(this.defaultItem){var o=c.getter(this.defaultItem,t),a=c.getter(e,t);if(!c.isPresent(e)||a===o)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}var r=this.findDataItem({valueField:t,value:e}),s=!(n&&i);r.dataItem?(this.updateState({dataItem:r.dataItem,confirm:!0}),this.resetSelection(r.index)):c.isPresent(e)&&s?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())},e.prototype.handleFilter=function(e){this.filterChange.emit(e.target.value)},e.prototype.pageChange=function(e){this.virtual.skip=e.skip},e.prototype.setMessages=function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))},e.prototype.assignAriaDescribedBy=function(){var e=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=c.guid();var t=(this.valueLabelId+" "+e).trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",t)},n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"focusableId",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"iconClass",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"loading",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"data",null),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"value",null),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"textField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"valueField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"popupSettings",null),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"listHeight",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"defaultItem",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Function])],e.prototype,"itemDisabled",null),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"readonly",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"filterable",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"virtual",null),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"ignoreCase",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"delay",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[Boolean])],e.prototype,"valuePrimitive",null),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"tabindex",void 0),n.__decorate([o.Input("tabIndex"),n.__metadata("design:type",Number),n.__metadata("design:paramtypes",[Number])],e.prototype,"tabIndex",null),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"valueChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"filterChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"selectionChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"open",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"opened",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"close",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"closed",void 0),n.__decorate([o.Output("focus"),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onFocus",void 0),n.__decorate([o.Output("blur"),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onBlur",void 0),n.__decorate([o.ContentChild(v.ItemTemplateDirective,{static:!1}),n.__metadata("design:type",v.ItemTemplateDirective)],e.prototype,"itemTemplate",void 0),n.__decorate([o.ContentChild(g.GroupTemplateDirective,{static:!1}),n.__metadata("design:type",g.GroupTemplateDirective)],e.prototype,"groupTemplate",void 0),n.__decorate([o.ContentChild(f.FixedGroupTemplateDirective,{static:!1}),n.__metadata("design:type",f.FixedGroupTemplateDirective)],e.prototype,"fixedGroupTemplate",void 0),n.__decorate([o.ContentChild(_.ValueTemplateDirective,{static:!1}),n.__metadata("design:type",_.ValueTemplateDirective)],e.prototype,"valueTemplate",void 0),n.__decorate([o.ContentChild(b.HeaderTemplateDirective,{static:!1}),n.__metadata("design:type",b.HeaderTemplateDirective)],e.prototype,"headerTemplate",void 0),n.__decorate([o.ContentChild(y.FooterTemplateDirective,{static:!1}),n.__metadata("design:type",y.FooterTemplateDirective)],e.prototype,"footerTemplate",void 0),n.__decorate([o.ContentChild(S.NoDataTemplateDirective,{static:!1}),n.__metadata("design:type",S.NoDataTemplateDirective)],e.prototype,"noDataTemplate",void 0),n.__decorate([o.ViewChild("container",{read:o.ViewContainerRef,static:!0}),n.__metadata("design:type",o.ViewContainerRef)],e.prototype,"container",void 0),n.__decorate([o.ViewChild("popupTemplate",{static:!0}),n.__metadata("design:type",o.TemplateRef)],e.prototype,"popupTemplate",void 0),n.__decorate([o.ViewChild("wrapper",{static:!0}),n.__metadata("design:type",o.ElementRef)],e.prototype,"wrapper",void 0),n.__decorate([o.ViewChild("optionsList",{static:!1}),n.__metadata("design:type",P.ListComponent)],e.prototype,"optionsList",void 0),n.__decorate([o.HostBinding("class.k-widget"),o.HostBinding("class.k-dropdown"),n.__metadata("design:type",Boolean)],e.prototype,"widgetClasses",void 0),n.__decorate([o.HostBinding("attr.dir"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],e.prototype,"dir",null),e=i=n.__decorate([o.Component({exportAs:"kendoDropDownList",providers:[t.DROPDOWNLIST_VALUE_ACCESSOR,k.DataService,h.SelectionService,m.NavigationService,E.DisabledItemsService,I.LocalizationService,{provide:I.L10N_PREFIX,useValue:"kendo.dropdownlist"},{provide:O.FilterableComponent,useExisting:o.forwardRef((function(){return i}))},{provide:d.KendoInput,useExisting:o.forwardRef((function(){return i}))}],selector:"kendo-dropdownlist",template:'\n        <ng-container kendoDropDownListLocalizedMessages\n            i18n-noDataText="kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items"\n            noDataText="NO DATA FOUND"\n        >\n        </ng-container>\n        <span #wrapper unselectable="on"\n          role="listbox"\n          [id]="focusableId"\n          [ngClass]="{\n            \'k-dropdown-wrap\': true,\n            \'k-state-disabled\': this.disabled\n          }"\n          [attr.dir]="direction"\n          [attr.readonly]="readonly"\n          [attr.tabindex]="widgetTabIndex"\n          [attr.aria-disabled]="disabled"\n          [attr.aria-readonly]="readonly"\n          aria-haspopup="listbox"\n          [attr.aria-expanded]="ariaExpanded"\n          [attr.aria-owns]="ariaOwns"\n          [attr.aria-activedescendant]="ariaActivedescendant"\n          [attr.aria-label]="noDataLabel"\n          (keydown)="keydown($event)"\n          (keypress)="keypress($event)"\n          (click)="click($event)"\n          [kendoEventsOutsideAngular]="{\n            focus: focusComponent,\n            blur: blurComponent\n            }"\n          [scope]="this"\n        >\n            <span class="k-input" unselectable="on" [id]="valueLabelId">\n               <ng-template *ngIf="valueTemplate"\n                   [templateContext]="{\n                       templateRef: valueTemplate.templateRef,\n                       $implicit: dataItem\n                   }">\n               </ng-template>\n               <ng-template [ngIf]="!valueTemplate">{{ getText() }}</ng-template>\n           </span>\n           <span class="k-select" unselectable="on">\n               <span\n                    class="k-icon"\n                    unselectable="on"\n                    [ngClass]="buttonClasses"\n                >\n                </span>\n           </span>\n           <ng-template #popupTemplate>\n               \x3c!--filterable--\x3e\n\n               <ng-template [ngIf]="filterable">\n                   <span class="k-list-filter" (click)="$event.stopImmediatePropagation()">\n                       <input\n                           [attr.aria-owns]="ariaOwns"\n                           [attr.aria-activedescendant]="ariaActivedescendant"\n                           [attr.aria-label]="noDataLabel"\n                           tabindex="-1"\n                           [filterInput]="isFocused && !touchEnabled"\n                           [dir]="direction"\n                           [(ngModel)]="filterText"\n                           class="k-textbox"\n                           (keydown)="keydown($event)"\n                           (input)="handleFilter($event)"\n                           (focus)="onFilterFocus()"\n                           (blur)="blurFilterInput()" />\n                       <span class="k-icon k-i-search" unselectable="on"></span>\n                   </span>\n               </ng-template>\n               \x3c!--default item--\x3e\n               <ng-template [ngIf]="defaultItem && !itemTemplate">\n                   <div class="k-list-optionlabel" [ngClass]="{ \'k-state-disabled\': isDisabledDefaultItem }" kendoDropDownsSelectable [index]="-1">\n                       {{ getDefaultItemText() }}\n                   </div>\n               </ng-template>\n               <ng-template [ngIf]="defaultItem && itemTemplate">\n                   <div class="k-list-optionlabel" [ngClass]="{ \'k-state-disabled\': isDisabledDefaultItem }" kendoDropDownsSelectable [index]="-1">\n                       <ng-template\n                           [templateContext]="{\n                               templateRef: itemTemplate.templateRef,\n                               $implicit: defaultItem\n                           }">\n                       </ng-template>\n                   </div>\n               </ng-template>\n               \x3c!--header template--\x3e\n               <ng-template *ngIf="headerTemplate"\n                   [templateContext]="{\n                       templateRef: headerTemplate.templateRef\n                   }">\n               </ng-template>\n               \x3c!--list--\x3e\n               <kendo-list\n                   #optionsList\n                   [id]="listBoxId"\n                   [optionPrefix]="optionPrefix"\n                   [data]="data"\n                   [textField]="textField"\n                   [valueField]="valueField"\n                   [template]="itemTemplate"\n                   [groupTemplate]="groupTemplate"\n                   [fixedGroupTemplate]="fixedGroupTemplate"\n                   [height]="listHeight"\n                   [show]="isOpen"\n                   [virtual]="virtual"\n                   (pageChange)="pageChange($event)"\n                   >\n               </kendo-list>\n               \x3c!--no-data template--\x3e\n               <div class="k-nodata" *ngIf="data.length === 0">\n                   <ng-template [ngIf]="noDataTemplate"\n                       [templateContext]="{\n                           templateRef: noDataTemplate ? noDataTemplate.templateRef : undefined\n                       }">\n                   </ng-template>\n                   <ng-template [ngIf]="!noDataTemplate">\n                       <div>{{ noDataText }}</div>\n                   </ng-template>\n               </div>\n               \x3c!--footer template--\x3e\n               <ng-template *ngIf="footerTemplate"\n                   [templateContext]="{\n                       templateRef: footerTemplate.templateRef\n                   }">\n               </ng-template>\n            </ng-template>\n        </span>\n        <ng-template [ngIf]="isOpen">\n            <kendo-resize-sensor (resize)="onResize()"></kendo-resize-sensor>\n        </ng-template>\n        <ng-container #container></ng-container>\n  '}),n.__param(10,o.Optional()),n.__param(10,o.Inject(w.TOUCH_ENABLED)),n.__metadata("design:paramtypes",[I.LocalizationService,T.PopupService,h.SelectionService,m.NavigationService,E.DisabledItemsService,k.DataService,o.NgZone,o.Renderer2,o.ElementRef,o.ChangeDetectorRef,Boolean])],e)}();t.DropDownListComponent=A},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(11),r=i(3),s=i(4),p=i(8),l=i(37),d=i(41),u=i(7),c=i(6),h=i(19),m=i(5),v=i(9),g=i(2),f=i(67),_=i(24),b=i(26),y=function(e){function t(t,i,n,o,a,r,s,p,l,d,u){var c=e.call(this,t,i,n,o,a,r,s,p,l,d,u)||this;return c.hostClasses=!0,c.removeWindowResizeListener=g.noop,c.defaultVirtualItemHeight=36,c.defaultVirtualPageSize=30,c}var i;return n.__extends(t,e),i=t,Object.defineProperty(t.prototype,"header",{set:function(e){this.updateHeaderPadding(e&&e.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popupWidth",{get:function(){var e=this.wrapper.nativeElement.offsetWidth,t=e+"px",i=this.popupSettings.width||f.getRowWidthFromColumnsMeta(this.columns)||e;return{min:t,max:isNaN(i)?i:i+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listContainerClasses",{get:function(){return["k-list-container","k-popup","k-reset","k-group","k-dropdowngrid-popup","k-popup-flush","k-state-border-up"].concat(this.popupSettings.popupClass||[])},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.updateColumnsMediaState(),this.addWindowResizeListener()},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.removeWindowResizeListener()},t.prototype.textFrom=function(e,t){return g.getter(e,t)},t.prototype.updateHeaderPadding=function(e){if(g.isPresent(e)){var t=this.localization.rtl?"padding-left":"padding-right";this.optionsList.hasScrollbar()&&f.scrollbarWidth()>0?this.renderer.setStyle(e,t,f.scrollbarWidth()+"px"):this.renderer.removeStyle(e,t)}},t.prototype.verifySettings=function(){if(o.isDevMode()){if(g.isPresent(this.data)&&this.data.length>0&&this.data.some((function(e){return!g.isObject(e)})))throw new Error(b.MultiColumnComboBoxMessages.data);if(!g.isPresent(this.valueField)||!g.isPresent(this.textField))throw new Error(b.MultiColumnComboBoxMessages.textAndValue);e.prototype.verifySettings.call(this)}},t.prototype.addWindowResizeListener=function(){var e=this;r.isDocumentAvailable()&&this.zone.runOutsideAngular((function(){return e.removeWindowResizeListener=e.renderer.listen(window,"resize",e.updateColumnsMediaState.bind(e))}))},t.prototype.updateColumnsMediaState=function(){var e=this;g.isPresent(this.columns)&&r.isDocumentAvailable()&&this.columns.forEach((function(t){var i=!t.media||window.matchMedia(t.media).matches;t.matchesMedia!==i&&(t.matchesMedia=i,e.isOpen&&e.zone.run((function(){return e.popupRef.popupElement.style.width=e.popupWidth.max})))}))},n.__decorate([o.HostBinding("class.k-dropdowngrid"),n.__metadata("design:type",Boolean)],t.prototype,"hostClasses",void 0),n.__decorate([o.ContentChildren(d.ComboBoxColumnComponent),n.__metadata("design:type",o.QueryList)],t.prototype,"columns",void 0),n.__decorate([o.ViewChild("header",{static:!1}),n.__metadata("design:type",o.ElementRef),n.__metadata("design:paramtypes",[o.ElementRef])],t.prototype,"header",null),t=i=n.__decorate([o.Component({providers:[m.SelectionService,u.DataService,h.NavigationService,c.DisabledItemsService,s.LocalizationService,{provide:s.L10N_PREFIX,useValue:"kendo.multicolumncombobox"},{multi:!0,provide:a.NG_VALUE_ACCESSOR,useExisting:o.forwardRef((function(){return i}))},{provide:r.KendoInput,useExisting:o.forwardRef((function(){return i}))},{provide:_.FilterableComponent,useExisting:o.forwardRef((function(){return i}))}],selector:"kendo-multicolumncombobox",template:'\n        <ng-container\n            kendoMultiColumnComboBoxLocalizedMessages\n\n            i18n-noDataText="kendo.multicolumncombobox.noDataText|The text displayed in the popup when there are no items"\n            noDataText="NO DATA FOUND"\n\n            i18n-clearTitle="kendo.multicolumncombobox.clearTitle|The title of the clear button"\n            clearTitle="clear"\n        >\n        </ng-container>\n        <span\n            #wrapper\n            unselectable="on"\n            class="k-dropdown-wrap"\n            [class.k-state-disabled]="disabled"\n        >\n            <kendo-searchbar\n                #searchbar\n                [role]="\'combobox\'"\n                [id]="focusableId"\n                [listId]="listBoxId"\n                [activeDescendant]="activeDescendant"\n                [noDataLabel]="noDataLabel"\n                [userInput]="text"\n                [suggestedText]="getSuggestion()"\n                [disabled]="disabled"\n                [readonly]="readonly"\n                [tabIndex]="tabIndex"\n                [popupOpen]="isOpen"\n                [placeholder]="placeholder"\n                (onNavigate)="handleNavigate($event)"\n                (valueChange)="searchBarChange($event)"\n                (onBlur)="handleBlur()"\n                (onFocus)="handleFocus()"\n            >\n            </kendo-searchbar>\n\n            <span\n                *ngIf="clearButton && !loading && !disabled && !readonly && text?.length"\n                class="k-icon k-clear-value k-i-close"\n                [style.visibility]="clearButtonVisiblity"\n                aria-hidden="true"\n                [attr.title]="clearTitle"\n                (click)="clearValue($event)"\n                [kendoEventsOutsideAngular]="{\n                    mousedown: preventEventDefault\n                }"\n            >\n            </span>\n\n            <span\n                #select\n                aria-hidden="true"\n                unselectable="on"\n                class="k-select"\n                [kendoEventsOutsideAngular]="{\n                    mousedown: preventEventDefault\n                }"\n            >\n                <span\n                    class="k-icon"\n                    [ngClass]="buttonClasses"\n                >\n                </span>\n            </span>\n        </span>\n\n        <ng-template #popupTemplate>\n            \x3c!--user-defined header template --\x3e\n            <ng-template\n                *ngIf="headerTemplate"\n                [templateContext]="{\n                    templateRef: headerTemplate?.templateRef\n                }"\n            >\n            </ng-template>\n\n            \x3c!--grid header--\x3e\n            <div\n                #header\n                class="k-grid-header"\n            >\n                <div class="k-grid-header-wrap">\n                    <table role="presentation">\n                        <colgroup>\n                            <ng-container *ngFor="let column of columns">\n                                <col\n                                    *ngIf="!column.hidden && column.matchesMedia"\n                                    [style.width.px]="column.width"\n                                />\n                            </ng-container>\n                        </colgroup>\n                        <tbody>\n                            <tr>\n                                <ng-container *ngFor="let column of columns">\n                                    <th\n                                        *ngIf="!column.hidden && column.matchesMedia"\n                                        class="k-header"\n                                        [ngStyle]="column.headerStyle"\n                                        [ngClass]="column.headerClass"\n                                    >\n                                        <ng-container *ngIf="!column.headerTemplate">\n                                            {{ column.title || column.field }}\n                                        </ng-container>\n                                        <ng-template\n                                            *ngIf="column.headerTemplate"\n                                            [templateContext]="{\n                                                templateRef: column.headerTemplate?.templateRef,\n                                                $implicit: column,\n                                                column: column\n                                            }"\n                                        >\n                                        </ng-template>\n                                    </th>\n                                </ng-container>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n\n            \x3c!-- item template --\x3e\n            <ng-template #rowTemplate let-dataItem>\n                <ng-container *ngFor="let column of columns">\n                    <span\n                        *ngIf="!column.hidden && column.matchesMedia"\n                        class="k-cell"\n                        [ngClass]="column.class"\n                        [style.width.px]="column.width"\n                        [ngStyle]="column.style"\n                    >\n                        <ng-container *ngIf="!column.cellTemplate">\n                            {{ textFrom(dataItem, column.field) }}\n                        </ng-container>\n                        <ng-template\n                            *ngIf="column.cellTemplate"\n                            [templateContext]="{\n                                templateRef: column.cellTemplate?.templateRef,\n                                $implicit: dataItem,\n                                dataItem: dataItem,\n                                column: column\n                            }"\n                        >\n                        </ng-template>\n                    </span>\n                </ng-container>\n            </ng-template>\n\n            \x3c!--list--\x3e\n            <kendo-list\n                #optionsList\n                [id]="listBoxId"\n                [optionPrefix]="optionPrefix"\n                [data]="data"\n                [textField]="textField"\n                [valueField]="valueField"\n                [template]="{ templateRef: rowTemplate }"\n                [groupTemplate]="groupTemplate"\n                [fixedGroupTemplate]="fixedGroupTemplate"\n                [height]="listHeight"\n                [show]="isOpen"\n                [virtual]="virtual"\n                [listClass]="\'k-reset k-grid-list\'"\n                (pageChange)="pageChange($event)"\n                (listResize)="updateHeaderPadding(header)"\n            >\n            </kendo-list>\n\n            \x3c!--no-data template--\x3e\n            <div\n                class="k-nodata"\n                *ngIf="data.length === 0"\n            >\n                <ng-template\n                    [ngIf]="noDataTemplate"\n                    [templateContext]="{\n                        templateRef: noDataTemplate?.templateRef\n                    }"\n                >\n                </ng-template>\n                <ng-template [ngIf]="!noDataTemplate">\n                    <div>{{ noDataText }}</div>\n                </ng-template>\n            </div>\n\n            \x3c!--user-defined footer template--\x3e\n            <ng-container *ngIf="footerTemplate">\n                <div class="k-footer">\n                    <ng-template\n                        [templateContext]="{\n                            templateRef: footerTemplate.templateRef\n                        }"\n                    >\n                    </ng-template>\n                </div>\n            </ng-container>\n        </ng-template>\n\n        <kendo-resize-sensor\n            *ngIf="isOpen"\n            (resize)="onResize()"\n        >\n        </kendo-resize-sensor>\n\n        \x3c!-- when the popupSettings.appendTo value is set to \'component\', this container is used --\x3e\n        <ng-container #container></ng-container>\n    '}),n.__param(10,o.Inject(v.TOUCH_ENABLED)),n.__metadata("design:paramtypes",[s.LocalizationService,p.PopupService,m.SelectionService,h.NavigationService,c.DisabledItemsService,u.DataService,o.NgZone,o.ChangeDetectorRef,o.Renderer2,o.ElementRef,Boolean])],t)}(l.ComboBoxComponent);t.MultiColumnComboBoxComponent=y},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(3),r=i(8),s=i(10),p=i(28),l=i(11),d=i(7),u=i(6),c=i(19),h=i(4),m=i(5),v=i(15),g=i(2),f=i(20),_=i(14),b=i(21),y=i(12),S=i(13),C=i(36),x=i(26),I=i(9),T=i(34),w={animate:!0},D=function(){return!1},E=function(){return _.of([])},k=function(){return!1},O=function(){return!0},P=function(){function e(e,t,i,n,r,s,p,l){this.popupService=e,this.navigationService=t,this.renderer=i,this.hostElement=n,this._zone=r,this.cdr=s,this.localization=p,this.touchEnabled=l,this.hostClasses=!0,this.open=new o.EventEmitter,this.opened=new o.EventEmitter,this.close=new o.EventEmitter,this.closed=new o.EventEmitter,this.nodeExpand=new o.EventEmitter,this.nodeCollapse=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.onBlur=new o.EventEmitter,this.valueChange=new o.EventEmitter,this.filterChange=new o.EventEmitter,this.clearButton=!0,this.hasChildren=D,this.fetchChildren=E,this.placeholder="",this.listHeight=200,this.disabled=!1,this.readonly=!1,this.valuePrimitive=!1,this.itemDisabled=k,this.isNodeVisible=O,this.loadOnDemand=!0,this.filterable=!1,this.filter="",this.focusableId="k-"+a.guid(),this.selectedKeys=[],this.filterStateChange=new o.EventEmitter,this.allNodesHidden=!1,this.valueLabelId="k-"+a.guid(),this._popupSettings=w,this._tabindex=0,this._isFocused=!1,this.subscriptions=[],this.onTouchedCallback=g.noop,this.onChangeCallback=g.noop,this.direction=p.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeTouchEvents()}var t;return t=e,Object.defineProperty(e.prototype,"clearable",{get:function(){return this.clearButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"treeview",{get:function(){return this._treeview},set:function(e){e&&((this.isFocused&&!this.filterable||this.touchEnabled)&&e.focus(),e.animate=!0,this._treeview=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._nodes},set:function(e){this._nodes=e,this.setState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.setState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupSettings",{get:function(){return this._popupSettings},set:function(e){this._popupSettings=Object.assign({},w,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataItem",{get:function(){return this._dataItem?this._dataItem:this.value},set:function(e){this._dataItem=e,this.setState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabindex",{get:function(){return this.disabled?-1:this._tabindex},set:function(e){var t=Number(e);this._tabindex=isNaN(t)?0:t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var e=this.wrapper.nativeElement.offsetWidth,t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var e=this.popupSettings.height;return g.isPresent(e)?e+"px":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return g.isPresent(this.popupRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearButtonVisiblity",{get:function(){if(this.touchEnabled)return"visible"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this.isNodeExpanded},set:function(e){this.isNodeExpanded=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expand",{get:function(){return this.nodeExpand},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapse",{get:function(){return this.nodeCollapse},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nodes",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.fetchChildren},set:function(e){this.fetchChildren=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.isNodeVisible},set:function(e){this.isNodeVisible=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.assignAriaDescribedBy(),this.subscriptions.push(this.localization.changes.subscribe((function(t){var i=t.rtl;e.direction=i?"rtl":"ltr",e.cdr.markForCheck()})))},e.prototype.ngOnDestroy=function(){this.destroyPopup(),this.unsubscribeEvents()},e.prototype.ngOnChanges=function(e){a.anyChanged(["textField","valueField","valuePrimitive"],e,!1)&&this.setState()},e.prototype.ngAfterContentChecked=function(){this.verifySettings()},e.prototype.isEmpty=function(){return!this.text&&!this.placeholder},e.prototype.togglePopup=function(e){var t=this.disabled||this.readonly,i=this.isOpen===e;t||i||(this.triggerPopupEvents(e)||(e?this.createPopup():this.destroyPopup()))},e.prototype.handleFocus=function(){var e=this;this.isFocused||(this.isFocused=!0,a.hasObservers(this.onFocus)&&this._zone.run((function(){e.onFocus.emit()})))},e.prototype.handleBlur=function(e){var t=this,i=e&&e.relatedTarget;this.hostElement.nativeElement.contains(i)||this.isOpen&&this.popupRef.popupElement.contains(i)||(this.isFocused=!1,a.hasObservers(this.onBlur)||g.isUntouched(this.hostElement.nativeElement)?this._zone.run((function(){t.togglePopup(!1),t.onBlur.emit(),t.onTouchedCallback()})):this.togglePopup(!1))},e.prototype.handleKeydown=function(e){if(!this.disabled&&!this.readonly){var t=e;this.navigationService.process({originalEvent:t})}},e.prototype.handleClick=function(){this.togglePopup(!this.isOpen)},e.prototype.focusItemAt=function(e){if(this.treeview){var t=this.treeview.itemLookup(e);!g.isPresent(t)||this.treeview.isDisabled(t.item.dataItem,t.item.index)||this.treeview.focus(e)}},e.prototype.focus=function(){this.disabled||this.wrapper.nativeElement.focus()},e.prototype.blur=function(){this.disabled||this.wrapper.nativeElement.blur()},e.prototype.reset=function(){this.value=void 0,this.dataItem=void 0},e.prototype.toggle=function(e){var t=this;Promise.resolve(null).then((function(){var i=g.isPresent(e)?e:!g.isPresent(t.popupRef);t.destroyPopup(),i&&t.createPopup()}))},Object.defineProperty(e.prototype,"popupContainerClasses",{get:function(){var e=["k-popup-dropdowntree","k-reset","k-group","k-list-container"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e},enumerable:!0,configurable:!0}),e.prototype.onSelectionChange=function(e){var t=e.dataItem,i=e.index;this.valueDepth=i.split("_").length-1;var n=this.getField(this.valueField,t),o=this.valuePrimitive?p.getter(n)(t):t;o!==this.value&&(this.dataItem=t,this.value=o,this.emitValueChange(this.value)),this.togglePopup(!1),this.focus()},e.prototype.messageFor=function(e){return this.localization.get(e)},e.prototype.clearValue=function(e){e.stopImmediatePropagation(),this.focus(),this.value=void 0,this.dataItem=void 0,this.clearState(),this.valueChange.emit(void 0),this.emitValueChange()},Object.defineProperty(e.prototype,"appendTo",{get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e},enumerable:!0,configurable:!0}),e.prototype.preventEventDefault=function(e){e.preventDefault()},e.prototype.writeValue=function(e){!g.isPresent(e)&&g.isPresent(this.value)&&(this.dataItem=null),this.value=null===e?void 0:e},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this.disabled=e,this.cdr.markForCheck()},e.prototype.handleFilterInputChange=function(e){var t=this;this.filterChange.next(e),this.allNodesHidden=this.nodes.every((function(e,i){return!t.isVisible(e,String(i))}))},e.prototype.verifySettings=function(){if(o.isDevMode()){if(!0===this.valuePrimitive&&g.isPresent(this.value)&&"object"==typeof this.value)throw new Error(x.DropDownTreeMessages.primitive);if(!0===this.valuePrimitive&&g.isPresent(this.value)&&"object"!=typeof this.dataItem)throw new Error(x.DropDownTreeMessages.dataItem);if(!1===this.valuePrimitive&&g.isPresent(this.value)&&"object"!=typeof this.value)throw new Error(x.DropDownTreeMessages.object);if(!g.isPresent(this.valueField)||!g.isPresent(this.textField))throw new Error(x.DropDownTreeMessages.textAndValue);if((g.isArray(this.valueField)||g.isArray(this.textField))&&g.isPresent(this.value)&&!g.isPresent(this.valueDepth))throw new Error(x.DropDownTreeMessages.valueDepth)}},e.prototype.emitValueChange=function(e){this.onChangeCallback(e),this.valueChange.emit(e)},e.prototype.getText=function(e,t){if(g.isPresent(t)&&g.isPresent(e)){var i=this.getField(e,t);return p.getter(i)(t)}return null},e.prototype.getField=function(e,t){var i=e.length-1;return"string"==typeof e?e:g.isPresent(this.valueDepth)?i<this.valueDepth?e[i]:e[this.valueDepth]:e.find((function(e){return e in t}))},e.prototype.triggerPopupEvents=function(e){var t=new v.PreventableEvent;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()},e.prototype.createPopup=function(){var e=this,t="rtl"===this.direction?"right":"left",i={horizontal:t,vertical:"bottom"},n={horizontal:t,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.wrapper,appendTo:this.appendTo,anchorAlign:i,content:this.popupTemplate,popupAlign:n,positionMode:"absolute",popupClass:this.popupContainerClasses});var o=this.popupRef.popupElement,a=this.width,r=a.min,s=a.max;o.style.minWidth=r,o.style.width=s,o.style.height=this.height,o.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.opened.emit()})),this.popupRef.popupClose.subscribe((function(){e.closed.emit()}))},e.prototype.destroyPopup=function(){var e=this;this.popupRef&&(this.popupRef.close(),this.popupRef=null,""!==this.filter&&(this.filter="",this.allNodesHidden=!1,a.hasObservers(this.filterChange)&&this._zone.run((function(){e.filterChange.emit("")}))))},e.prototype.handleEscape=function(){this.togglePopup(!1),this.focus()},e.prototype.setState=function(){if(g.isPresent(this.value)&&g.isPresent(this.dataItem)&&g.isPresent(this.valueField)){this.text=this.getText(this.textField,this.dataItem);var e=this.getField(this.valueField,this.dataItem);this.selectBy=e,this.selectedKeys=[p.getter(e)(this.dataItem)]}else this.clearState();this.cdr.markForCheck()},e.prototype.clearState=function(){this.text=void 0,this.valueDepth=void 0,this.selectedKeys=[]},e.prototype.subscribeEvents=function(){var e=this;this.subscriptions.push(this.navigationService.open.subscribe((function(){return e.togglePopup(!0)})),this.navigationService.close.subscribe((function(){e.togglePopup(!1),e.focus()})),this.navigationService.enter.pipe(b.tap((function(e){return e.originalEvent.preventDefault()}))).subscribe((function(){return e.togglePopup(!0)})),this.navigationService.esc.subscribe((function(){return e.handleEscape()})),this.navigationService.tab.subscribe((function(){return e.focus()})),this.navigationService.down.subscribe((function(t){e.treeview&&(t.originalEvent.preventDefault(),e.treeview.isActive||e.treeview.focus())})),this.navigationService.up.subscribe((function(t){e.treeview&&(t.originalEvent.preventDefault(),e.filterable&&"0"===e.treeview.navigationService.activeIndex&&e.filterInput.nativeElement.focus())})))},e.prototype.subscribeTouchEvents=function(){var e=this;a.isDocumentAvailable()&&this.touchEnabled&&this._zone.runOutsideAngular((function(){return e.touchstartDisposeHandler=e.renderer.listen(document,"touchstart",(function(t){var i=t.target;e.isFocused&&!g.inDropDown(e.hostElement,i,e.popupRef)&&e._zone.run((function(){e.isOpen&&e.treeview.blur(),e.blur()}))}))}))},e.prototype.unsubscribeEvents=function(){this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()},e.prototype.assignAriaDescribedBy=function(){var e=this.wrapper.nativeElement.getAttribute("aria-describedby")||"",t=(this.valueLabelId+" "+e.trim()).trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",t)},n.__decorate([o.HostBinding("class.k-widget"),o.HostBinding("class.k-dropdowntree"),o.HostBinding("class.k-dropdowntree-clearable"),n.__metadata("design:type",Boolean)],e.prototype,"hostClasses",void 0),n.__decorate([o.HostBinding("attr.dir"),n.__metadata("design:type",String)],e.prototype,"direction",void 0),n.__decorate([o.HostBinding("class.k-dropdowntree-clearable"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],e.prototype,"clearable",null),n.__decorate([o.ContentChild(f.NoDataTemplateDirective,{static:!1}),n.__metadata("design:type",f.NoDataTemplateDirective)],e.prototype,"noDataTemplate",void 0),n.__decorate([o.ContentChild(y.HeaderTemplateDirective,{static:!1}),n.__metadata("design:type",y.HeaderTemplateDirective)],e.prototype,"headerTemplate",void 0),n.__decorate([o.ContentChild(S.FooterTemplateDirective,{static:!1}),n.__metadata("design:type",S.FooterTemplateDirective)],e.prototype,"footerTemplate",void 0),n.__decorate([o.ContentChild(C.NodeTemplateDirective,{static:!1}),n.__metadata("design:type",C.NodeTemplateDirective)],e.prototype,"nodeTemplate",void 0),n.__decorate([o.ContentChild(T.ValueTemplateDirective,{static:!1}),n.__metadata("design:type",T.ValueTemplateDirective)],e.prototype,"valueTemplate",void 0),n.__decorate([o.ViewChild("popupTemplate",{static:!0}),n.__metadata("design:type",o.TemplateRef)],e.prototype,"popupTemplate",void 0),n.__decorate([o.ViewChild("wrapper",{static:!0}),n.__metadata("design:type",o.ElementRef)],e.prototype,"wrapper",void 0),n.__decorate([o.ViewChild("container",{read:o.ViewContainerRef,static:!0}),n.__metadata("design:type",o.ViewContainerRef)],e.prototype,"container",void 0),n.__decorate([o.ViewChild("treeview",{static:!1}),n.__metadata("design:type",s.TreeViewComponent),n.__metadata("design:paramtypes",[s.TreeViewComponent])],e.prototype,"treeview",null),n.__decorate([o.ViewChild("filterInput",{static:!1}),n.__metadata("design:type",o.ElementRef)],e.prototype,"filterInput",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"open",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"opened",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"close",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"closed",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"nodeExpand",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"nodeCollapse",void 0),n.__decorate([o.Output("focus"),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onFocus",void 0),n.__decorate([o.Output("blur"),n.__metadata("design:type",o.EventEmitter)],e.prototype,"onBlur",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"valueChange",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"filterChange",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"loading",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"clearButton",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"data",null),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"value",null),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"textField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"valueField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"valueDepth",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],e.prototype,"hasChildren",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],e.prototype,"fetchChildren",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"placeholder",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"popupSettings",null),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"dataItem",null),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"listHeight",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"readonly",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"valuePrimitive",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number),n.__metadata("design:paramtypes",[Number])],e.prototype,"tabindex",null),n.__decorate([o.Input(),n.__metadata("design:type",Function)],e.prototype,"itemDisabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],e.prototype,"isNodeExpanded",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Function)],e.prototype,"isNodeVisible",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"loadOnDemand",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"filterable",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"filter",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"focusableId",void 0),e=t=n.__decorate([o.Component({exportAs:"kendoDropDownTree",providers:[d.DataService,m.SelectionService,c.NavigationService,u.DisabledItemsService,h.LocalizationService,{provide:h.L10N_PREFIX,useValue:"kendo.dropdowntree"},{multi:!0,provide:l.NG_VALUE_ACCESSOR,useExisting:o.forwardRef((function(){return t}))},{provide:a.KendoInput,useExisting:o.forwardRef((function(){return t}))},{provide:s.DataBoundComponent,useExisting:o.forwardRef((function(){return t}))},{provide:s.ExpandableComponent,useExisting:o.forwardRef((function(){return t}))}],selector:"kendo-dropdowntree",template:'\n        <ng-container kendoDropDownTreeLocalizedMessages\n            i18n-noDataText="kendo.dropdowntree.noDataText|The text displayed in the popup when there are no items"\n            noDataText="NO DATA FOUND"\n\n            i18n-clearTitle="kendo.dropdowntree.clearTitle|The title of the clear button"\n            clearTitle="clear"\n        >\n        </ng-container>\n        <span\n            #wrapper\n            [ngClass]="{\n                \'k-dropdown-wrap\': true,\n                \'k-state-disabled\': this.disabled\n            }"\n            [attr.id]="focusableId"\n            role="listbox"\n            aria-haspopup="tree"\n            [attr.aria-expanded]="isOpen"\n            [attr.aria-readonly]="readonly"\n            [attr.tabindex]="tabindex"\n            [attr.dir]="direction"\n            (click)="handleClick()"\n            (keydown)="handleKeydown($event)"\n            [kendoEventsOutsideAngular]="{\n                focus: handleFocus,\n                blur: handleBlur\n            }"\n            [scope]="this"\n        >\n            <span\n                [attr.id]="valueLabelId"\n                class="k-input"\n            >\n                <ng-template *ngIf="valueTemplate"\n                    [templateContext]="{\n                        templateRef: valueTemplate.templateRef,\n                        $implicit: dataItem\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!valueTemplate"> {{ text || placeholder }} </ng-template>\n            </span>\n            <span\n                *ngIf="!loading && !readonly && clearButton && text?.length"\n                class="k-icon k-clear-value k-i-close"\n                [style.visibility]="clearButtonVisiblity"\n                aria-hidden="true"\n                [attr.title]="messageFor(\'clearTitle\')"\n                (click)="clearValue($event)"\n            >\n            </span>\n            <span class="k-select" aria-hidden="true">\n                <span class="k-icon k-i-arrow-60-down"></span>\n            </span>\n        </span>\n        <ng-template #popupTemplate>\n            <span\n                *ngIf="filterable"\n                class="k-list-filter"\n            >\n                <input\n                    #filterInput\n                    (input)="handleFilterInputChange($event.target.value)"\n                    [filterInput]="filterable && !touchEnabled"\n                    (keydown.arrowdown)="handleKeydown($event)"\n                    (keydown.alt.arrowup)="handleKeydown($event)"\n                    [(ngModel)]="filter"\n                    class="k-textbox"\n                    role="textbox"\n                    aria-haspopup="true"\n                    aria-expanded="false"\n                    tabindex="0"\n                    aria-disabled="false"\n                    aria-readonly="false"\n                    [kendoEventsOutsideAngular]="{\n                        blur: handleBlur\n                    }"\n                    [scope]="this"\n                >\n                <span class="k-icon k-i-zoom"></span>\n            </span>\n            \x3c!--header template--\x3e\n            <ng-template\n                *ngIf="headerTemplate"\n                [templateContext]="{\n                    templateRef: headerTemplate?.templateRef\n                }">\n            </ng-template>\n            <kendo-treeview\n                #treeview\n                *ngIf="data.length !== 0 && !allNodesHidden"\n                [nodes]="data"\n                [style.maxHeight.px]="listHeight"\n                [animate]="false"\n                [(selectedKeys)]="selectedKeys"\n                [selectBy]="selectBy"\n                [textField]="textField"\n                kendoTreeViewSelectable\n                [children]="children"\n                [hasChildren]="hasChildren"\n                [loadOnDemand]="loadOnDemand"\n                [isExpanded]="isNodeExpanded"\n                [isDisabled]="itemDisabled"\n                [nodeTemplate]="nodeTemplate"\n                [filter]="filter"\n                [isVisible]="isNodeVisible"\n                (focusout)="handleBlur($event)"\n                (keydown)="handleKeydown($event)"\n                (selectionChange)="onSelectionChange($event)"\n                (expand)="nodeExpand.emit($event)"\n                (collapse)="nodeCollapse.emit($event)"\n            >\n            </kendo-treeview>\n            \x3c!--footer template--\x3e\n            <ng-template\n                *ngIf="footerTemplate"\n                [templateContext]="{\n                    templateRef: footerTemplate?.templateRef\n                }">\n            </ng-template>\n            \x3c!--no-data template--\x3e\n            <div class="k-nodata" *ngIf="data.length === 0 || allNodesHidden">\n                <ng-template [ngIf]="noDataTemplate"\n                    [templateContext]="{\n                        templateRef: noDataTemplate?.templateRef\n                    }">\n                </ng-template>\n                <ng-template [ngIf]="!noDataTemplate">\n                    <div>{{ messageFor(\'noDataText\') }}</div>\n                </ng-template>\n            </div>\n        </ng-template>\n        <ng-container #container></ng-container>\n    ',changeDetection:o.ChangeDetectionStrategy.OnPush}),n.__param(7,o.Optional()),n.__param(7,o.Inject(I.TOUCH_ENABLED)),n.__metadata("design:paramtypes",[r.PopupService,c.NavigationService,o.Renderer2,o.ElementRef,o.NgZone,o.ChangeDetectorRef,h.LocalizationService,Boolean])],e)}();t.DropDownTreeComponent=P},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(10),r=function(e){function t(t){return e.call(this,t)||this}return n.__extends(t,e),n.__decorate([o.Input("kendoDropDownTreeFlatBinding"),n.__metadata("design:type",Array)],t.prototype,"nodes",void 0),n.__decorate([o.Input("valueField"),n.__metadata("design:type",String)],t.prototype,"idField",void 0),t=n.__decorate([o.Directive({selector:"[kendoDropDownTreeFlatBinding]"}),n.__metadata("design:paramtypes",[a.DataBoundComponent])],t)}(a.FlatDataBindingDirective);t.DropDownTreeFlatBindingDirective=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(10),r=function(e){function t(t){var i=e.call(this,t)||this;return i.dropDownTree=t,i}return n.__extends(t,e),Object.defineProperty(t.prototype,"data",{set:function(e){this.dropDownTree.nodes=e,this.nodes=e},enumerable:!0,configurable:!0}),n.__decorate([o.Input("kendoDropDownTreeHierarchyBinding"),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],t.prototype,"data",null),t=n.__decorate([o.Directive({selector:"[kendoDropDownTreeHierarchyBinding]"}),n.__metadata("design:paramtypes",[a.DataBoundComponent])],t)}(a.HierarchyBindingDirective);t.DropDownTreeHierarchyBindingDirective=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(10),r=function(e){function t(t){return e.call(this,t)||this}return n.__extends(t,e),n.__decorate([o.Input("kendoMultiSelectTreeFlatBinding"),n.__metadata("design:type",Array)],t.prototype,"nodes",void 0),n.__decorate([o.Input("valueField"),n.__metadata("design:type",String)],t.prototype,"idField",void 0),t=n.__decorate([o.Directive({selector:"[kendoMultiSelectTreeFlatBinding]"}),n.__metadata("design:paramtypes",[a.DataBoundComponent])],t)}(a.FlatDataBindingDirective);t.MultiSelectTreeFlatBindingDirective=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(10),r=function(e){function t(t){var i=e.call(this,t)||this;return i.multiSelectTree=t,i}return n.__extends(t,e),Object.defineProperty(t.prototype,"data",{set:function(e){this.multiSelectTree.nodes=e,this.nodes=e},enumerable:!0,configurable:!0}),n.__decorate([o.Input("kendoMultiSelectTreeHierarchyBinding"),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],t.prototype,"data",null),t=n.__decorate([o.Directive({selector:"[kendoMultiSelectTreeHierarchyBinding]"}),n.__metadata("design:paramtypes",[a.DataBoundComponent])],t)}(a.HierarchyBindingDirective);t.MultiSelectTreeHierarchyBindingDirective=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(10),r=function(e){function t(t){return e.call(this,t)||this}return n.__extends(t,e),n.__decorate([o.Input("isNodeExpanded"),n.__metadata("design:type",Function)],t.prototype,"isExpanded",void 0),t=n.__decorate([o.Directive({selector:"[kendoDropDownTreeExpandable], [kendoMultiSelectTreeExpandable]"}),n.__metadata("design:paramtypes",[a.ExpandableComponent])],t)}(a.ExpandDirective);t.DropDownTreesExpandDirective=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(27),r=i(10),s=i(22),p=i(49),l=i(44),d=i(50),u=i(51),c=i(52),h=i(53),m=i(54),v=i(36),g=i(74),f=[p.DropDownTreeComponent,l.MultiSelectTreeComponent,d.DropDownTreeFlatBindingDirective,u.DropDownTreeHierarchyBindingDirective,c.MultiSelectTreeFlatBindingDirective,h.MultiSelectTreeHierarchyBindingDirective,m.DropDownTreesExpandDirective,v.NodeTemplateDirective,g.MultiSelectTreeSummaryTagDirective],_=function(){function e(){}return e=n.__decorate([o.NgModule({declarations:[f],exports:[f,s.SharedDirectivesModule],imports:[a.SharedModule,r.TreeViewModule]})],e)}();t.DropDownTreesModule=_},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([o.Input(),n.__metadata("design:type",String)],t.prototype,"noDataText",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],t.prototype,"clearTitle",void 0),t}(i(4).ComponentMessages);t.Messages=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(24),r=i(2),s={caseSensitive:!1,operator:"startsWith"},p=function(){function e(e){this.component=e,this.filterable=!0,this._data=[]}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e||[]},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.component.filterable=this.filterable,this.filterChangeSubscription=this.component.filterChange.subscribe(this.handleFilterChange.bind(this))},e.prototype.ngOnDestroy=function(){r.isPresent(this.filterChangeSubscription)&&this.filterChangeSubscription.unsubscribe()},e.prototype.handleFilterChange=function(e){var t=this;this.component.data=this.data.filter((function(i){return t.matchesAnyField(i,e)}))},e.prototype.matchesAnyField=function(e,t){var i=this,n=this.normalizeValue(t),o=this.filterSettings.fields;return 0===o.length?this.checkItem(e,n):o.some((function(t){return i.checkItem(r.getter(e,t),n)}))},e.prototype.checkItem=function(e,t){return e=this.normalizeValue(e),"contains"===this.filterSettings.operator?-1!==e.indexOf(t):0===e.indexOf(t)},e.prototype.normalizeValue=function(e){var t=r.isPresent(e)?e.toString():"";return this.filterSettings.caseSensitive?t:t.toLowerCase()},e.prototype.getFilterFields=function(e){return this.component.textField||this.component.valueField?r.isArray(e)&&e.length>0?e:[this.component.textField||this.component.valueField]:[]},Object.defineProperty(e.prototype,"filterSettings",{get:function(){var e=this.rawSettings,t=r.isPresent(e)&&"object"==typeof e?e.fields:[];return Object.assign({},s,e,{fields:this.getFilterFields(t)})},enumerable:!0,configurable:!0}),n.__decorate([o.Input(),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[Array])],e.prototype,"data",null),n.__decorate([o.Input("kendoDropDownFilter"),n.__metadata("design:type",Object)],e.prototype,"rawSettings",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"filterable",void 0),e=n.__decorate([o.Directive({selector:"[kendoDropDownFilter]"}),n.__metadata("design:paramtypes",[a.FilterableComponent])],e)}();t.FilterDirective=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(5),r=function(){function e(e){this.checkboxes={enabled:!1},this.multipleSelection=!1,this.selectionService=e}return Object.defineProperty(e.prototype,"focusedClassName",{get:function(){return this.selectionService.isFocused(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedClassName",{get:function(){return!this.checkboxes.enabled&&this.selectionService.isSelected(this.index)},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){e.stopPropagation(),this.checkboxes.enabled&&!this.checkboxes.checkOnClick||(this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index))},n.__decorate([o.HostBinding("attr.index"),o.Input(),n.__metadata("design:type",Number)],e.prototype,"index",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"checkboxes",void 0),n.__decorate([o.HostBinding("style.height.px"),o.HostBinding("style.minHeight.px"),o.Input(),n.__metadata("design:type",Number)],e.prototype,"height",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"multipleSelection",void 0),n.__decorate([o.HostBinding("class.k-state-focused"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],e.prototype,"focusedClassName",null),n.__decorate([o.HostBinding("class.k-state-selected"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],e.prototype,"selectedClassName",null),n.__decorate([o.HostListener("click",["$event"]),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],e.prototype,"onClick",null),e=n.__decorate([o.Directive({selector:"[kendoDropDownsSelectable]"}),n.__metadata("design:paramtypes",[a.SelectionService])],e)}();t.SelectableDirective=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e){this.viewContainerRef=e}return Object.defineProperty(e.prototype,"templateContext",{set:function(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))},enumerable:!0,configurable:!0}),n.__decorate([o.Input(),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],e.prototype,"templateContext",null),e=n.__decorate([o.Directive({selector:"[templateContext]"}),n.__metadata("design:paramtypes",[o.ViewContainerRef])],e)}();t.TemplateContextDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(2),r=i(38),s=function(){function e(e){this.multiSelectComponent=e,this.showAfter=0,this.createTagMapper()}return e.prototype.ngOnChanges=function(e){a.isPresent(e.showAfter)&&(this.createTagMapper(),this.multiSelectComponent.onTagMapperChange())},e.prototype.createTagMapper=function(){var e=a.parseNumber(this.showAfter);this.multiSelectComponent.tagMapper=function(t){if(t.length>e){var i=void 0;return(i=t.slice(0,e)).push(t.slice(e,t.length)),i}return t}},n.__decorate([o.Input("kendoMultiSelectSummaryTag"),n.__metadata("design:type",Object)],e.prototype,"showAfter",void 0),e=n.__decorate([o.Directive({selector:"[kendoMultiSelectSummaryTag]"}),n.__metadata("design:paramtypes",[r.MultiSelectComponent])],e)}();t.SummaryTagDirective=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(45),r=i(27),s=i(22),p=[a.AutoCompleteComponent],l=function(){function e(){}return e=n.__decorate([o.NgModule({declarations:[p],exports:[p,s.SharedDirectivesModule],imports:[r.SharedModule]})],e)}();t.AutoCompleteModule=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(28),r=i(37),s=i(48),p=i(41),l=i(27),d=i(22),u=i(9),c=i(43),h=i(42),m=[r.ComboBoxComponent,s.MultiColumnComboBoxComponent,p.ComboBoxColumnComponent,c.ColumnHeaderTemplateDirective,h.ColumnCellTemplateDirective],v=function(){function e(){}return e=n.__decorate([o.NgModule({declarations:[m],exports:[m,d.SharedDirectivesModule],imports:[l.SharedModule],providers:[{provide:u.TOUCH_ENABLED,useValue:a.touchEnabled}]})],e)}();t.ComboBoxModule=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(47),r=i(27),s=i(22),p=[a.DropDownListComponent],l=function(){function e(){}return e=n.__decorate([o.NgModule({declarations:[p],exports:[p,s.SharedDirectivesModule],imports:[r.SharedModule]})],e)}();t.DropDownListModule=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(28),r=i(38),s=i(39),p=i(60),l=i(27),d=i(22),u=i(9),c=[r.MultiSelectComponent,p.SummaryTagDirective,s.CustomItemTemplateDirective],h=function(){function e(){}return e=n.__decorate([o.NgModule({declarations:[c],exports:[c,d.SharedDirectivesModule],imports:[l.SharedModule],providers:[{provide:u.TOUCH_ENABLED,useValue:a.touchEnabled}]})],e)}();t.MultiSelectModule=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(45);t.AutoCompleteComponent=n.AutoCompleteComponent;var o=i(37);t.ComboBoxComponent=o.ComboBoxComponent;var a=i(47);t.DropDownListComponent=a.DropDownListComponent;var r=i(38);t.MultiSelectComponent=r.MultiSelectComponent;var s=i(48);t.MultiColumnComboBoxComponent=s.MultiColumnComboBoxComponent;var p=i(41);t.ComboBoxColumnComponent=p.ComboBoxColumnComponent;var l=i(42);t.ColumnCellTemplateDirective=l.ColumnCellTemplateDirective;var d=i(43);t.ColumnHeaderTemplateDirective=d.ColumnHeaderTemplateDirective;var u=i(49);t.DropDownTreeComponent=u.DropDownTreeComponent;var c=i(44);t.MultiSelectTreeComponent=c.MultiSelectTreeComponent;var h=i(50);t.DropDownTreeFlatBindingDirective=h.DropDownTreeFlatBindingDirective;var m=i(51);t.DropDownTreeHierarchyBindingDirective=m.DropDownTreeHierarchyBindingDirective;var v=i(52);t.MultiSelectTreeFlatBindingDirective=v.MultiSelectTreeFlatBindingDirective;var g=i(53);t.MultiSelectTreeHierarchyBindingDirective=g.MultiSelectTreeHierarchyBindingDirective;var f=i(54);t.DropDownTreesExpandDirective=f.DropDownTreesExpandDirective;var _=i(55);t.DropDownTreesModule=_.DropDownTreesModule;var b=i(36);t.NodeTemplateDirective=b.NodeTemplateDirective;var y=i(16);t.ItemTemplateDirective=y.ItemTemplateDirective;var S=i(17);t.GroupTemplateDirective=S.GroupTemplateDirective;var C=i(18);t.FixedGroupTemplateDirective=C.FixedGroupTemplateDirective;var x=i(39);t.CustomItemTemplateDirective=x.CustomItemTemplateDirective;var I=i(12);t.HeaderTemplateDirective=I.HeaderTemplateDirective;var T=i(13);t.FooterTemplateDirective=T.FooterTemplateDirective;var w=i(34);t.ValueTemplateDirective=w.ValueTemplateDirective;var D=i(59);t.TemplateContextDirective=D.TemplateContextDirective;var E=i(29);t.GroupTagTemplateDirective=E.GroupTagTemplateDirective;var k=i(58);t.SelectableDirective=k.SelectableDirective;var O=i(60);t.SummaryTagDirective=O.SummaryTagDirective;var P=i(57);t.FilterDirective=P.FilterDirective;var F=i(75);t.DropDownsModule=F.DropDownsModule;var A=i(64);t.MultiSelectModule=A.MultiSelectModule;var M=i(27);t.SharedModule=M.SharedModule;var j=i(61);t.AutoCompleteModule=j.AutoCompleteModule;var B=i(62);t.ComboBoxModule=B.ComboBoxModule;var R=i(63);t.DropDownListModule=R.DropDownListModule;var N=i(22);t.SharedDirectivesModule=N.SharedDirectivesModule;var V=i(25);t.ListComponent=V.ListComponent;var L=i(8);t.PopupComponent=L.PopupComponent;var z=i(15);t.PreventableEvent=z.PreventableEvent;var H=i(40);t.RemoveTagEvent=H.RemoveTagEvent},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2);t.normalizeCheckboxesSettings=function(e){if(n.isObject(e)){return Object.assign({},{enabled:!0,checkOnClick:!0},e)}return{enabled:Boolean(e),checkOnClick:!0}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(2);t.scrollbarWidth=function(){if(isNaN(n)){var e=document.createElement("div");e.style.cssText="overflow: scroll; overflow-x: hidden; zoom: 1; clear: both; display: block;",e.innerHTML="&nbsp;",document.body.appendChild(e),n=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return n};t.getRowWidthFromColumnsMeta=function(e){if(!function(e){return!(!o.isPresent(e)||0===e.length)&&e.toArray().every((function(e){return!isNaN(e.width)&&e.width>0}))}(e))return null;var i=t.scrollbarWidth()+2;return e.reduce((function(e,t){return!t.hidden&&t.matchesMedia&&(e+=parseInt(t.width,10)),e}),i)}},function(e,t){e.exports=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(35),r=i(29),s=i(2),p=function(){function e(){this.disabledIndices=new Set,this.removeTag=new o.EventEmitter}return e.prototype.tagProp=function(e,t,i){var n=t&&this.getPropField(e,t,i);return s.getter(e,n)},e.prototype.isTagDisabled=function(e,t){var i=this;return this.isGroupTag(e)?e.every((function(e,n){return i.disabledIndices.has(n+t)})):this.disabledIndices.has(t)},e.prototype.deleteTag=function(e,t,i){e.preventDefault(),e.stopImmediatePropagation(),this.disabled||1!==e.which||this.removeTag.emit({tag:t,index:i})},e.prototype.itemId=function(e,t){if(e)return this.tagPrefix+"-"+this.tagProp(e,this.valueField,t)},e.prototype.isGroupTag=function(e){return e instanceof Array},e.prototype.tagAriaHidden=function(e){return s.isPresent(this.focused)&&this.focused!==e},e.prototype.getPropField=function(e,t,i){var n=t.length-1;if("string"==typeof t)return t;if(this.valueDepth){var o=this.valueDepth[i];return n<o?t[n]:t[o]}return t.find((function(t){return t in e}))},n.__decorate([o.Input(),n.__metadata("design:type",Array)],e.prototype,"tags",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"textField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"valueField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Array)],e.prototype,"valueDepth",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Number)],e.prototype,"focused",void 0),n.__decorate([o.Input(),n.__metadata("design:type",a.TagTemplateDirective)],e.prototype,"template",void 0),n.__decorate([o.Input(),n.__metadata("design:type",r.GroupTagTemplateDirective)],e.prototype,"groupTemplate",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"tagPrefix",void 0),n.__decorate([o.Input(),n.__metadata("design:type",String)],e.prototype,"id",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Set)],e.prototype,"disabledIndices",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"removeTag",void 0),e=n.__decorate([o.Component({selector:"kendo-taglist",template:'\n        <ul [attr.id]="id" class="k-reset">\n            <li\n                *ngFor="let tag of tags; let index = index;"\n                role="option"\n                [attr.id]="itemId(tag, index)"\n                [attr.aria-hidden]="tagAriaHidden(index)"\n                aria-selected="true"\n                [attr.aria-setsize]="tags?.length"\n                class="k-button"\n                [ngClass]="{\n                    \'k-state-focused\': index === focused,\n                    \'k-state-disabled\': isTagDisabled(tag, index)\n                }"\n            >\n                <ng-template *ngIf="isGroupTag(tag); then groupTag else singleTag"></ng-template>\n                    <ng-template #groupTag>\n                        <span>\n                            <ng-template *ngIf="groupTemplate"\n                                [templateContext]="{\n                                templateRef: groupTemplate.templateRef,\n                                $implicit: tag\n                            }">\n                            </ng-template>\n                            <ng-template [ngIf]="!groupTemplate">{{ tag.length }} {{ tag.length === 1 ? \'item\' : \'items\' }} selected</ng-template>\n                        </span>\n                    </ng-template>\n                    <ng-template #singleTag>\n                        <span>\n                            <ng-template *ngIf="template"\n                                [templateContext]="{\n                                templateRef: template.templateRef,\n                                $implicit: tag\n                            }">\n                            </ng-template>\n                            <ng-template [ngIf]="!template">{{ tagProp(tag, textField, index) }}</ng-template>\n                        </span>\n                    </ng-template>\n\n                <span aria-label="delete" [attr.aria-hidden]="index !== focused" class="k-select">\n                    <span class="k-icon k-i-close" (mousedown)="deleteTag($event, tag, index)">\n                    </span>\n                </span>\n            </li>\n        </ul>\n  '})],e)}();t.TagListComponent=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(4),r=i(56),s=function(e){function t(t){var i=e.call(this)||this;return i.service=t,i}var i;return n.__extends(t,e),i=t,t=i=n.__decorate([o.Directive({providers:[{provide:r.Messages,useExisting:o.forwardRef((function(){return i}))}],selector:"\n    [kendoDropDownListLocalizedMessages],\n    [kendoDropDownTreeLocalizedMessages],\n    [kendoComboBoxLocalizedMessages],\n    [kendoMultiColumnComboBoxLocalizedMessages],\n    [kendoAutoCompleteLocalizedMessages],\n    [kendoMultiSelectLocalizedMessages],\n    [kendoMultiSelectTreeLocalizedMessages]\n  "}),n.__metadata("design:paramtypes",[a.LocalizationService])],t)}(r.Messages);t.LocalizedMessagesDirective=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(4),r=i(56),s=function(e){function t(t){var i=e.call(this)||this;return i.service=t,i}var i;return n.__extends(t,e),i=t,Object.defineProperty(t.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),t=i=n.__decorate([o.Component({providers:[{provide:r.Messages,useExisting:o.forwardRef((function(){return i}))}],selector:"kendo-dropdownlist-messages,kendo-combobox-messages,kendo-multicolumncombobox-messages,kendo-autocomplete-messages,kendo-multiselect-messages,kendo-dropdowntree-messages,kendo-multiselecttree-messages",template:""}),n.__metadata("design:paramtypes",[a.LocalizationService])],t)}(r.Messages);t.CustomMessagesComponent=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=function(){function e(e,t){this.element=e,this.zone=t}return e.prototype.ngOnChanges=function(){var e=this;this.focused&&this.nextTick((function(){return e.element.nativeElement.focus()}))},e.prototype.nextTick=function(e){this.zone.runOutsideAngular((function(){return setTimeout(e)}))},n.__decorate([o.Input("filterInput"),n.__metadata("design:type",Boolean)],e.prototype,"focused",void 0),e=n.__decorate([o.Directive({selector:"[filterInput]"}),n.__metadata("design:paramtypes",[o.ElementRef,o.NgZone])],e)}();t.FilterInputDirective=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(10),r=i(14),s=i(21),p=i(2),l=function(){function e(e){this.treeView=e,this.checkedItemsChange=new o.EventEmitter,this.checkedKeys=new Set,this.subscriptions=new r.Subscription,this.subscriptions.add(this.treeView.checkedChange.subscribe(this.handleCheckedChange.bind(this))),this.treeView.isChecked=this.getCheckedState.bind(this)}return e.prototype.ngOnChanges=function(e){var t=this;p.isPresent(e.checkable)&&this.toggleCheckOnClick(),p.isPresent(e.checkedItems)&&(this.checkedItems=this.checkedItems||[],this.checkedKeys=new Set(this.checkedItems.map((function(e){return p.valueFrom(e,t.valueField)}))))},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.unsubscribeClick()},e.prototype.getCheckedState=function(e,t){return this.isItemChecked({dataItem:e,index:t})?"checked":this.checkable.checkChildren&&this.isItemIndeterminate(this.treeView.itemLookup(t))?"indeterminate":"none"},e.prototype.handleCheckedChange=function(e){this.checkNode(e),this.checkable.checkChildren&&this.checkParents(e.parent),this.checkedItemsChange.emit(this.checkedItems.slice())},e.prototype.toggleCheckOnClick=function(){var e=this;this.unsubscribeClick(),this.checkable.checkOnClick&&(this.clickSubscription=this.treeView.nodeClick.pipe(s.filter((function(e){return"click"===e.type}))).subscribe((function(t){var i=e.treeView.itemLookup(t.item.index);e.handleCheckedChange(i)})))},e.prototype.unsubscribeClick=function(){this.clickSubscription&&(this.clickSubscription.unsubscribe(),this.clickSubscription=null)},e.prototype.checkNode=function(e){var t=this;if(!this.treeView.isDisabled(e.item.dataItem,e.item.index)){var i=e.item,n=[i];if(this.checkable.checkChildren){p.fetchDescendentNodes(e,(function(e){return t.treeView.isVisible(e.dataItem,e.index)&&!t.treeView.isDisabled(e.dataItem,e.index)})).forEach((function(e){return n.push(e.item)}))}var o=!this.isItemChecked(i);n.forEach((function(e){o?t.addItem(e):t.removeItem(e)}))}},e.prototype.checkParents=function(e){for(var t=this,i=e;i;){i.children.every((function(e){return t.isItemChecked(e)}))?this.addItem(i.item):this.removeItem(i.item),i=i.parent}},e.prototype.addItem=function(e){if(!this.isItemChecked(e)){var t=p.getHierarchicalItemLevel(e.index),i=n.__assign({},e,{level:t});this.checkedItems.push(i),this.checkedKeys.add(p.valueFrom(i,this.valueField))}},e.prototype.removeItem=function(e){var t=this;if(this.isItemChecked(e)){var i=p.getHierarchicalItemLevel(e.index),o=n.__assign({},e,{level:i});this.checkedItems=this.checkedItems.filter((function(e){return p.valueFrom(e,t.valueField)!==p.valueFrom(o,t.valueField)})),this.checkedKeys.delete(p.valueFrom(o,this.valueField))}},e.prototype.isItemChecked=function(e){return this.checkedKeys.has(p.valueFrom(e,this.valueField))},e.prototype.isItemIndeterminate=function(e){var t=e.children;if(!Array.isArray(t)||0===t.length)return!1;for(var i=0,n=t[i];p.isPresent(n);){if(this.isItemChecked(n.item)||this.isItemIndeterminate(n))return!0;n=t[i+=1]}return!1},n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"checkable",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Object)],e.prototype,"valueField",void 0),n.__decorate([o.Input(),n.__metadata("design:type",Array)],e.prototype,"checkedItems",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],e.prototype,"checkedItemsChange",void 0),e=n.__decorate([o.Directive({selector:"[kendoMultiSelectTreeCheckable]"}),n.__metadata("design:paramtypes",[a.TreeViewComponent])],e)}();t.CheckDirective=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(2),r=i(44),s=function(){function e(e){this.multiSelectTreeComponent=e,this.showAfter=0,this.createTagMapper()}return e.prototype.ngOnChanges=function(e){a.isPresent(e.showAfter)&&(this.createTagMapper(),this.multiSelectTreeComponent.handleTagMapperChange(this.showAfter))},e.prototype.createTagMapper=function(){var e=a.parseNumber(this.showAfter);this.multiSelectTreeComponent.tagMapper=function(t){return t.length>e?t.slice(0,e).concat([t.slice(e)]):t}},n.__decorate([o.Input("kendoMultiSelectTreeSummaryTag"),n.__metadata("design:type",Object)],e.prototype,"showAfter",void 0),e=n.__decorate([o.Directive({selector:"[kendoMultiSelectTreeSummaryTag]"}),n.__metadata("design:paramtypes",[r.MultiSelectTreeComponent])],e)}();t.MultiSelectTreeSummaryTagDirective=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=i(1),a=i(61),r=i(62),s=i(63),p=i(64),l=i(55),d=function(){function e(){}return e=n.__decorate([o.NgModule({exports:[a.AutoCompleteModule,r.ComboBoxModule,s.DropDownListModule,p.MultiSelectModule,l.DropDownTreesModule]})],e)}();t.DropDownsModule=d}])}));