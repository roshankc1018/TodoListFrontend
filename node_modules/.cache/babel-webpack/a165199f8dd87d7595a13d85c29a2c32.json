{"ast":null,"code":"import _asyncToGenerator from \"/Users/roshankc/Downloads/playground-08-21-2021-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { BehaviorSubject, of } from 'rxjs';\nimport { delay, map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class AuthenticationService {\n  constructor() {\n    this.internalStatus$ = new BehaviorSubject(undefined);\n    this.currentUser$ = this.internalStatus$.pipe();\n  }\n\n  login(username, password) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      return of([username, password]).pipe(delay(2000), map(([username, password]) => {\n        const success = (username === null || username === void 0 ? void 0 : username.toLowerCase()) === 'joe@test.com' && password === '12345';\n\n        _this.internalStatus$.next(success ? username : undefined);\n\n        return success;\n      })).toPromise();\n    })();\n  }\n\n}\n\nAuthenticationService.ɵfac = function AuthenticationService_Factory(t) {\n  return new (t || AuthenticationService)();\n};\n\nAuthenticationService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthenticationService,\n  factory: AuthenticationService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/Users/roshankc/Downloads/playground-08-21-2021-master/src/app/authentication.service.ts"],"names":[],"mappings":";AACA,SAAS,eAAT,EAA0B,EAA1B,QAAoC,MAApC;AACA,SAAS,KAAT,EAAgB,GAAhB,QAA2B,gBAA3B;;AAKA,OAAM,MAAO,qBAAP,CAA4B;AAGhC,EAAA,WAAA,GAAA;AAFiB,SAAA,eAAA,GAAkB,IAAI,eAAJ,CAAwC,SAAxC,CAAlB;AAIR,SAAA,YAAA,GAAe,KAAK,eAAL,CAAqB,IAArB,EAAf;AAFO;;AAIV,EAAA,KAAK,CAAC,QAAD,EAAmB,QAAnB,EAAmC;AAAA;;AAAA;AAC5C,aAAO,EAAE,CAAC,CAAC,QAAD,EAAW,QAAX,CAAD,CAAF,CACJ,IADI,CAEH,KAAK,CAAC,IAAD,CAFF,EAGH,GAAG,CAAC,CAAC,CAAC,QAAD,EAAW,QAAX,CAAD,KAAyB;AAC3B,cAAM,OAAO,GAAG,CAAA,QAAQ,KAAA,IAAR,IAAA,QAAQ,KAAA,KAAA,CAAR,GAAQ,KAAA,CAAR,GAAA,QAAQ,CAAE,WAAV,EAAA,MAA4B,cAA5B,IAA8C,QAAQ,KAAK,OAA3E;;AACA,QAAA,KAAI,CAAC,eAAL,CAAqB,IAArB,CAA0B,OAAO,GAAG,QAAH,GAAc,SAA/C;;AACA,eAAO,OAAP;AACD,OAJE,CAHA,EASJ,SATI,EAAP;AAD4C;AAW7C;;AAlB+B;;;mBAArB,qB;AAAqB,C;;;SAArB,qB;AAAqB,EAAA,OAAA,EAArB,qBAAqB,CAAA,I;AAAA,EAAA,UAAA,EAFpB","sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject, of } from 'rxjs';\nimport { delay, map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthenticationService {\n  private readonly internalStatus$ = new BehaviorSubject<string | undefined>(undefined);\n\n  constructor() {}\n\n  readonly currentUser$ = this.internalStatus$.pipe();\n\n  async login(username: string, password: string) {\n    return of([username, password])\n      .pipe(\n        delay(2000),\n        map(([username, password]) => {\n          const success = username?.toLowerCase() === 'joe@test.com' && password === '12345';\n          this.internalStatus$.next(success ? username : undefined);\n          return success;\n        })\n      )\n      .toPromise();\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}